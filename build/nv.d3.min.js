/* nvd3 version 1.8.1-dev (https://github.com/novus/nvd3) 2015-12-04 */

!function(){!function(a){var b={};b.dev=!1,b.tooltip=b.tooltip||{},b.utils=b.utils||{},b.models=b.models||{},b.charts={},b.logs={},b.dom={},b.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),b.dev&&(b.dispatch.on("render_start",function(a){b.logs.startTime=+new Date}),b.dispatch.on("render_end",function(a){b.logs.endTime=+new Date,b.logs.totalTime=b.logs.endTime-b.logs.startTime,b.log("total",b.logs.totalTime)})),b.log=function(){if(b.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(b.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var a=Function.prototype.bind.call(console.log,console);a.apply(console,arguments)}return arguments[arguments.length-1]},b.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")},b.render=function(a){a=a||1,b.render.active=!0,b.dispatch.render_start();var c=function(){for(var d,e,f=0;a>f&&(e=b.render.queue[f]);f++)d=e.generate(),typeof e.callback==typeof Function&&e.callback(d);b.render.queue.splice(0,f),b.render.queue.length?setTimeout(c):(b.dispatch.render_end(),b.render.active=!1)};setTimeout(c)},b.render.active=!1,b.render.queue=[],b.addGraph=function(a){typeof arguments[0]==typeof Function&&(a={generate:arguments[0],callback:arguments[1]}),b.render.queue.push(a),b.render.active||b.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=b),"undefined"!=typeof a&&(a.nv=b)}(this),nv.dom.write=function(a){return void 0!==window.fastdom?fastdom.write(a):a()},nv.dom.read=function(a){return void 0!==window.fastdom?fastdom.read(a):a()},nv.interactiveGuideline=function(){"use strict";function a(k){k.each(function(k){function l(){var c=d3.mouse(this),d=c[0],g=c[1],h=!0,k=!1;if(j&&(d=d3.event.offsetX,g=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(h=!1),d3.event.target.className.baseVal.match("nv-legend")&&(k=!0)),h&&(d-=b.left,g-=b.top),0>d||0>g||d>n||g>o||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||k){if(j&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(i.nvPointerEventsClass)))return;return f.elementMouseout({mouseX:d,mouseY:g}),a.renderGuideLine(null),void i.hidden(!0)}i.hidden(!1);var l="function"==typeof e.rangeBands,m=void 0;if(l){var p=d3.bisect(e.range(),d)-1;if(!(e.range()[p]+e.rangeBand()>=d))return f.elementMouseout({mouseX:d,mouseY:g}),a.renderGuideLine(null),void i.hidden(!0);m=e.domain()[d3.bisect(e.range(),d)-1]}else m=e.invert(d);f.elementMousemove({mouseX:d,mouseY:g,pointXValue:m}),"dblclick"===d3.event.type&&f.elementDblclick({mouseX:d,mouseY:g,pointXValue:m}),"click"===d3.event.type&&f.elementClick({mouseX:d,mouseY:g,pointXValue:m}),"mousedown"===d3.event.type&&f.elementMouseDown({mouseX:d,mouseY:g,pointXValue:m}),"mouseup"===d3.event.type&&f.elementMouseUp({mouseX:d,mouseY:g,pointXValue:m})}var m=d3.select(this),n=c||960,o=d||400,p=m.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([k]),q=p.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");q.append("g").attr("class","nv-interactiveGuideLine"),h&&(h.on("touchmove",l).on("mousemove",l,!0).on("mouseout",l,!0).on("mousedown",l,!0).on("mouseup",l,!0).on("dblclick",l).on("click",l),a.guideLine=null,a.renderGuideLine=function(b){g&&(a.guideLine&&a.guideLine.attr("x1")===b||nv.dom.write(function(){var a=p.select(".nv-interactiveGuideLine").selectAll("line").data(null!=b?[nv.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",o).attr("y2",0),a.exit().remove()}))})})}var b={left:0,top:0},c=null,d=null,e=d3.scale.linear(),f=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),g=!0,h=null,i=nv.models.tooltip(),j="ActiveXObject"in window;return i.duration(0).hideDelay(0).hidden(!1),a.dispatch=f,a.tooltip=i,a.margin=function(c){return arguments.length?(b.top="undefined"!=typeof c.top?c.top:b.top,b.left="undefined"!=typeof c.left?c.left:b.left,a):b},a.width=function(b){return arguments.length?(c=b,a):c},a.height=function(b){return arguments.length?(d=b,a):d},a.xScale=function(b){return arguments.length?(e=b,a):e},a.showGuideLine=function(b){return arguments.length?(g=b,a):g},a.svgContainer=function(b){return arguments.length?(h=b,a):h},a},nv.interactiveBisect=function(a,b,c){"use strict";if(!(a instanceof Array))return null;var d;d="function"!=typeof c?function(a){return a.x}:c;var e=function(a,b){return d(a)-b},f=d3.bisector(e).left,g=d3.max([0,f(a,b)-1]),h=d(a[g]);if("undefined"==typeof h&&(h=g),h===b)return g;var i=d3.min([g+1,a.length-1]),j=d(a[i]);return"undefined"==typeof j&&(j=i),Math.abs(j-b)>=Math.abs(h-b)?g:i},nv.nearestValueIndex=function(a,b,c){"use strict";var d=1/0,e=null;return a.forEach(function(a,f){var g=Math.abs(b-a);null!=a&&d>=g&&c>g&&(d=g,e=f)}),e},nv.models.tooltip=function(){"use strict";function a(){if(!l){var a=i?i:document.body;l=d3.select(a).append("div").attr("class","nvtooltip "+(h?h:"xy-tooltip")).attr("id",c),l.style("top",0).style("left",0),l.style("opacity",0),l.style("position","fixed"),l.selectAll("div, table, td, tr").classed(q,!0),l.classed(q,!0)}}function b(){return n&&w(d)?(nv.dom.write(function(){a();var b=v(d);b&&(l.node().innerHTML=b),y()}),b):void 0}var c="nvtooltip-"+Math.floor(1e5*Math.random()),d=null,e="w",f=25,g=0,h=null,i=null,j=!0,k=200,l=null,m={left:null,top:null},n=!0,o=100,p=!0,q="nv-pointer-events-none",r=function(){return{left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0}},s=function(a,b){return a},t=function(a){return a},u=function(a,b){return a},v=function(a){if(null===a)return"";var b=d3.select(document.createElement("table"));if(p){var c=b.selectAll("thead").data([a]).enter().append("thead");c.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(t(a.value))}var d=b.selectAll("tbody").data([a]).enter().append("tbody"),e=d.selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});e.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color}),e.append("td").classed("key",!0).classed("total",function(a){return!!a.total}).html(function(a,b){return u(a.key,b)}),e.append("td").classed("value",!0).html(function(a,b){return s(a.value,b)}),e.selectAll("td").each(function(a){if(a.highlight){var b=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),c=.6;d3.select(this).style("border-bottom-color",b(c)).style("border-top-color",b(c))}});var f=b.node().outerHTML;return void 0!==a.footer&&(f+="<div class='footer'>"+a.footer+"</div>"),f},w=function(a){if(a&&a.series){if(a.series instanceof Array)return!!a.series.length;if(a.series instanceof Object)return a.series=[a.series],!0}return!1},x=function(a){var b,c,d,g=l.node().offsetHeight,h=l.node().offsetWidth,i=document.documentElement.clientWidth,j=document.documentElement.clientHeight;switch(e){case"e":b=-h-f,c=-(g/2),a.left+b<0&&(b=f),(d=a.top+c)<0&&(c-=d),(d=a.top+c+g)>j&&(c-=d-j);break;case"w":b=f,c=-(g/2),a.left+b+h>i&&(b=-h-f),(d=a.top+c)<0&&(c-=d),(d=a.top+c+g)>j&&(c-=d-j);break;case"n":b=-(h/2)-5,c=f,a.top+c+g>j&&(c=-g-f),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"s":b=-(h/2),c=-g-f,a.top+c<0&&(c=f),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"center":b=-(h/2),c=-(g/2);break;default:b=0,c=0}return{left:b,top:c}},y=function(){nv.dom.read(function(){var a=r(),b=x(a),c=a.left+b.left,d=a.top+b.top;if(j)l.interrupt().transition().delay(k).duration(0).style("opacity",0);else{var e="translate("+m.left+"px, "+m.top+"px)",f="translate("+c+"px, "+d+"px)",g=d3.interpolateString(e,f),h=l.style("opacity")<.1;l.interrupt().transition().duration(h?0:o).styleTween("transform",function(a){return g},"important").styleTween("-webkit-transform",function(a){return g}).style("-ms-transform",f).style("opacity",1)}m.left=c,m.top=d})};return b.nvPointerEventsClass=q,b.options=nv.utils.optionsFunc.bind(b),b._options=Object.create({},{duration:{get:function(){return o},set:function(a){o=a}},gravity:{get:function(){return e},set:function(a){e=a}},distance:{get:function(){return f},set:function(a){f=a}},snapDistance:{get:function(){return g},set:function(a){g=a}},classes:{get:function(){return h},set:function(a){h=a}},chartContainer:{get:function(){return i},set:function(a){i=a}},enabled:{get:function(){return n},set:function(a){n=a}},hideDelay:{get:function(){return k},set:function(a){k=a}},contentGenerator:{get:function(){return v},set:function(a){v=a}},valueFormatter:{get:function(){return s},set:function(a){s=a}},headerFormatter:{get:function(){return t},set:function(a){t=a}},keyFormatter:{get:function(){return u},set:function(a){u=a}},headerEnabled:{get:function(){return p},set:function(a){p=a}},position:{get:function(){return r},set:function(a){r=a}},fixedTop:{get:function(){return null},set:function(a){nv.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(a){nv.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return j},set:function(a){j!=a&&(j=!!a,b())}},data:{get:function(){return d},set:function(a){a.point&&(a.value=a.point.x,a.series=a.series||{},a.series.value=a.point.y,a.series.color=a.point.color||a.series.color),d=a}},node:{get:function(){return l.node()},set:function(a){}},id:{get:function(){return c},set:function(a){}}}),nv.utils.initOptions(b),b},nv.utils.windowSize=function(){var a={width:640,height:480};return window.innerWidth&&window.innerHeight?(a.width=window.innerWidth,a.height=window.innerHeight,a):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a):document.body&&document.body.offsetWidth?(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight,a):a},nv.utils.windowResize=function(a){return window.addEventListener?window.addEventListener("resize",a):nv.log("ERROR: Failed to bind to window.resize with: ",a),{callback:a,clear:function(){window.removeEventListener("resize",a)}}},nv.utils.getColor=function(a){if(void 0===a)return nv.utils.defaultColor();if(Array.isArray(a)){var b=d3.scale.ordinal().range(a);return function(a,c){var d=void 0===c?a:c;return a.color||b(d)}}return a},nv.utils.defaultColor=function(){return nv.utils.getColor(d3.scale.category20().range())},nv.utils.customTheme=function(a,b,c){b=b||function(a){return a.key},c=c||d3.scale.category20().range();var d=c.length;return function(e,f){var g=b(e);return"function"==typeof a[g]?a[g]():void 0!==a[g]?a[g]:(d||(d=c.length),d-=1,c[d])}},nv.utils.pjax=function(a,b){var c=function(c){d3.html(c,function(c){var d=d3.select(b).node();d.parentNode.replaceChild(d3.select(c).select(b).node(),d),nv.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href),c(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&c(d3.event.state)})},nv.utils.calcApproxTextWidth=function(a){if("function"==typeof a.style&&"function"==typeof a.text){var b=parseInt(a.style("font-size").replace("px",""),10),c=a.text().length;return c*b*.5}return 0},nv.utils.NaNtoZero=function(a){return"number"!=typeof a||isNaN(a)||null===a||a===1/0||a===-(1/0)?0:a},d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)},nv.utils.renderWatch=function(a,b){if(!(this instanceof nv.utils.renderWatch))return new nv.utils.renderWatch(a,b);var c=void 0!==b?b:250,d=[],e=this;this.models=function(a){return a=[].slice.call(arguments,0),a.forEach(function(a){a.__rendered=!1,function(a){a.dispatch.on("renderEnd",function(b){a.__rendered=!0,e.renderEnd("model")})}(a),d.indexOf(a)<0&&d.push(a)}),this},this.reset=function(a){void 0!==a&&(c=a),d=[]},this.transition=function(a,b,f){if(b=arguments.length>1?[].slice.call(arguments,1):[],f=b.length>1?b.pop():void 0!==c?c:250,a.__rendered=!1,d.indexOf(a)<0&&d.push(a),0===f)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;0===a.length?a.__rendered=!0:a.every(function(a){return!a.length})?a.__rendered=!0:a.__rendered=!1;var g=0;return a.transition().duration(f).each(function(){++g}).each("end",function(c,d){0===--g&&(a.__rendered=!0,e.renderEnd.apply(this,b))})},this.renderEnd=function(){d.every(function(a){return a.__rendered})&&(d.forEach(function(a){a.__rendered=!1}),a.renderEnd.apply(this,arguments))}},nv.utils.deepExtend=function(a){var b=arguments.length>1?[].slice.call(arguments,1):[];b.forEach(function(b){for(var c in b){var d=a[c]instanceof Array,e="object"==typeof a[c],f="object"==typeof b[c];e&&!d&&f?nv.utils.deepExtend(a[c],b[c]):a[c]=b[c]}})},nv.utils.state=function(){if(!(this instanceof nv.utils.state))return new nv.utils.state;var a={},b=function(){},c=function(){return{}},d=null,e=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(a){b(a,!0)}),this.getter=function(a){return c=a,this},this.setter=function(a,c){return c||(c=function(){}),b=function(b,d){a(b),d&&c()},this},this.init=function(a){d=d||{},nv.utils.deepExtend(d,a)};var f=function(){var b=c();if(JSON.stringify(b)===JSON.stringify(a))return!1;for(var d in b)void 0===a[d]&&(a[d]={}),a[d]=b[d],e=!0;return!0};this.update=function(){d&&(b(d,!1),d=null),f.call(this)&&this.dispatch.change(a)}},nv.utils.optionsFunc=function(a){return a&&d3.map(a).forEach(function(a,b){"function"==typeof this[a]&&this[a](b)}.bind(this)),this},nv.utils.calcTicksX=function(a,b){var c=1,d=0;for(d;d<b.length;d+=1){var e=b[d]&&b[d].values?b[d].values.length:0;c=e>c?e:c}return nv.log("Requested number of ticks: ",a),nv.log("Calculated max values to be: ",c),a=a>c?a=c-1:a,a=1>a?1:a,a=Math.floor(a),nv.log("Calculating tick count as: ",a),a},nv.utils.calcTicksY=function(a,b){return nv.utils.calcTicksX(a,b)},nv.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){return arguments.length?(a._overrides[b]=!0,a._options[b]=c,a):a._options[b]},a["_"+b]=function(c){return arguments.length?(a._overrides[b]||(a._options[b]=c),a):a._options[b]})},nv.utils.initOptions=function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),c=Object.getOwnPropertyNames(a._calls||{});b=b.concat(c);for(var d in b)nv.utils.initOption(a,b[d])},nv.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]),c.unshift(b),c.unshift(a),d3.rebind.apply(this,c)},nv.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})},nv.utils.symbolMap=d3.map(),nv.utils.symbol=function(){function a(a,d){var e=b.call(this,a,d),f=c.call(this,a,d);return-1!==d3.svg.symbolTypes.indexOf(e)?d3.svg.symbol().type(e).size(f)():nv.utils.symbolMap.get(e)(f)}var b,c=64;return a.type=function(c){return arguments.length?(b=d3.functor(c),a):b},a.size=function(b){return arguments.length?(c=d3.functor(b),a):c},a},nv.utils.inheritOptions=function(a,b){var c=Object.getOwnPropertyNames(b._options||{}),d=Object.getOwnPropertyNames(b._calls||{}),e=b._inherited||[],f=b._d3options||[],g=c.concat(d).concat(e).concat(f);g.unshift(b),g.unshift(a),d3.rebind.apply(this,g),a._inherited=nv.utils.arrayUnique(c.concat(d).concat(e).concat(c).concat(a._inherited||[])),a._d3options=nv.utils.arrayUnique(f.concat(a._d3options||[]))},nv.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})},nv.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400},nv.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960},nv.utils.availableHeight=function(a,b,c){return Math.max(0,nv.utils.sanitizeHeight(a,b)-c.top-c.bottom)},nv.utils.availableWidth=function(a,b,c){return Math.max(0,nv.utils.sanitizeWidth(a,b)-c.left-c.right)},nv.utils.noData=function(a,b){var c=a.options(),d=c.margin(),e=c.noData(),f=null==e?["No Data Available."]:[e],g=nv.utils.availableHeight(null,b,d),h=nv.utils.availableWidth(null,b,d),i=d.left+h/2,j=d.top+g/2;b.selectAll("g").remove();var k=b.selectAll(".nv-noData").data(f);k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",i).attr("y",j).text(function(a){return a})},nv.utils.wrapTicks=function(a,b){a.each(function(){for(var a,c=d3.select(this),d=c.text().split(/\s+/).reverse(),e=[],f=0,g=1.1,h=c.attr("y"),i=parseFloat(c.attr("dy")),j=c.text(null).append("tspan").attr("x",0).attr("y",h).attr("dy",i+"em");a=d.pop();)e.push(a),j.text(e.join(" ")),j.node().getComputedTextLength()>b&&(e.pop(),j.text(e.join(" ")),e=[a],j=c.append("tspan").attr("x",0).attr("y",h).attr("dy",++f*g+i+"em").text(a))})},nv.utils.arrayEquals=function(a,b){if(a===b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,d=a.length;d>c;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!nv.arrayEquals(a[c],b[c]))return!1}else if(a[c]!=b[c])return!1;return!0},nv.models.axis=function(){"use strict";function a(f){return r.reset(),f.each(function(a){var f=d3.select(this);nv.utils.initSVG(f);var o=f.selectAll("g.nv-wrap.nv-axis").data([a]),p=o.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),s=(p.append("g"),o.select("g"));null!==m?b.ticks(m):("top"==b.orient()||"bottom"==b.orient())&&b.ticks(Math.abs(c.range()[1]-c.range()[0])/100),s.watchTransition(r,"axis").call(b),q=q||b.scale();var t=b.tickFormat();null==t&&(t=q.tickFormat());var u=s.selectAll("text.nv-axislabel").data([g||null]);u.exit().remove();var v,w,x;switch(b.orient()){case"top":u.enter().append("text").attr("class","nv-axislabel"),x=0,1===c.range().length?x=l?2*c.range()[0]+c.rangeBand():0:2===c.range().length?x=l?c.range()[0]+c.range()[1]+c.rangeBand():c.range()[1]:c.range().length>2&&(x=c.range()[c.range().length-1]+(c.range()[1]-c.range()[0])),u.attr("text-anchor","middle").attr("y",0).attr("x",x/2),h&&(w=o.selectAll("g.nv-axisMaxMin").data(c.domain()),w.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),w.exit().remove(),w.attr("transform",function(a,b){return"translate("+nv.utils.NaNtoZero(c(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a,b){var c=t(a);return(""+c).match("NaN")?"":c}),w.watchTransition(r,"min-max top").attr("transform",function(a,b){return"translate("+nv.utils.NaNtoZero(c.range()[b])+",0)"}));break;case"bottom":v=n+36;var y=30,z=0,A=s.selectAll("g").select("text"),B="";if(i%360){A.each(function(a,b){var c=this.getBoundingClientRect(),d=c.width;z=c.height,d>y&&(y=d)}),B="rotate("+i+" 0,"+(z/2+b.tickPadding())+")";var C=Math.abs(Math.sin(i*Math.PI/180));v=(C?C*y:y)+30,A.attr("transform",B).style("text-anchor",i%360>0?"start":"end")}else k?A.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"}):A.attr("transform","translate(0,0)");u.enter().append("text").attr("class","nv-axislabel"),x=0,1===c.range().length?x=l?2*c.range()[0]+c.rangeBand():0:2===c.range().length?x=l?c.range()[0]+c.range()[1]+c.rangeBand():c.range()[1]:c.range().length>2&&(x=c.range()[c.range().length-1]+(c.range()[1]-c.range()[0])),u.attr("text-anchor","middle").attr("y",v).attr("x",x/2),h&&(w=o.selectAll("g.nv-axisMaxMin").data([c.domain()[0],c.domain()[c.domain().length-1]]),w.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),w.exit().remove(),w.attr("transform",function(a,b){return"translate("+nv.utils.NaNtoZero(c(a)+(l?c.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",B).style("text-anchor",i?i%360>0?"start":"end":"middle").text(function(a,b){var c=t(a);return(""+c).match("NaN")?"":c}),w.watchTransition(r,"min-max bottom").attr("transform",function(a,b){return"translate("+nv.utils.NaNtoZero(c(a)+(l?c.rangeBand()/2:0))+",0)"}));break;case"right":u.enter().append("text").attr("class","nv-axislabel"),u.style("text-anchor",j?"middle":"begin").attr("transform",j?"rotate(90)":"").attr("y",j?-Math.max(d.right,e)+12:-10).attr("x",j?d3.max(c.range())/2:b.tickPadding()),h&&(w=o.selectAll("g.nv-axisMaxMin").data(c.domain()),w.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",function(a,b){return"translate(0,"+nv.utils.NaNtoZero(c(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a,b){var c=t(a);return(""+c).match("NaN")?"":c}),w.watchTransition(r,"min-max right").attr("transform",function(a,b){return"translate(0,"+nv.utils.NaNtoZero(c.range()[b])+")"}).select("text").style("opacity",1));break;case"left":u.enter().append("text").attr("class","nv-axislabel"),u.style("text-anchor",j?"middle":"end").attr("transform",j?"rotate(-90)":"").attr("y",j?-Math.max(d.left,e)+25-(n||0):-10).attr("x",j?-d3.max(c.range())/2:-b.tickPadding()),h&&(w=o.selectAll("g.nv-axisMaxMin").data(c.domain()),w.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",function(a,b){return"translate(0,"+nv.utils.NaNtoZero(q(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a,b){var c=t(a);return(""+c).match("NaN")?"":c}),w.watchTransition(r,"min-max right").attr("transform",function(a,b){return"translate(0,"+nv.utils.NaNtoZero(c.range()[b])+")"}).select("text").style("opacity",1))}if(u.text(function(a){return a}),!h||"left"!==b.orient()&&"right"!==b.orient()||(s.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1),(c(a)<c.range()[1]+10||c(a)>c.range()[0]-10)&&((a>1e-10||-1e-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),c.domain()[0]==c.domain()[1]&&0==c.domain()[0]&&o.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1})),h&&("top"===b.orient()||"bottom"===b.orient())){var D=[];o.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?D.push(c(a)-this.getBoundingClientRect().width-4):D.push(c(a)+this.getBoundingClientRect().width+4)}catch(d){b?D.push(c(a)-4):D.push(c(a)+4)}}),s.selectAll("g").each(function(a,b){(c(a)<D[0]||c(a)>D[1])&&(a>1e-10||-1e-10>a?d3.select(this).remove():d3.select(this).select("text").remove())})}s.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1e5*a)/1e6)&&void 0!==a}).classed("zero",!0),q=c.copy()}),r.renderEnd("axis immediate"),a}var b=d3.svg.axis(),c=d3.scale.linear(),d={top:0,right:0,bottom:0,left:0},e=75,f=60,g=null,h=!0,i=0,j=!0,k=!1,l=!1,m=null,n=0,o=250,p=d3.dispatch("renderEnd");b.scale(c).orient("bottom").tickFormat(function(a){return a});var q,r=nv.utils.renderWatch(p,o);return a.axis=b,a.dispatch=p,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{axisLabelDistance:{get:function(){return n},set:function(a){n=a}},staggerLabels:{get:function(){return k},set:function(a){k=a}},rotateLabels:{get:function(){return i},set:function(a){i=a}},rotateYLabel:{get:function(){return j},set:function(a){j=a}},showMaxMin:{get:function(){return h},set:function(a){h=a}},axisLabel:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return f},set:function(a){f=a}},ticks:{get:function(){return m},set:function(a){m=a}},width:{get:function(){return e},set:function(a){e=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},duration:{get:function(){return o},set:function(a){o=a,r.reset(o)}},scale:{get:function(){return c},set:function(d){c=d,b.scale(c),l="function"==typeof c.rangeBands,nv.utils.inheritOptionsD3(a,c,["domain","range","rangeBand","rangeBands"])}}}),nv.utils.initOptions(a),nv.utils.inheritOptionsD3(a,b,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),nv.utils.inheritOptionsD3(a,c,["domain","range","rangeBand","rangeBands"]),a},nv.models.boxPlot=function(){"use strict";function a(k){return u.reset(),k.each(function(a){var k=i-h.left-h.right,o=j-h.top-h.bottom;q=d3.select(this),nv.utils.initSVG(q),l.domain(b||a.map(function(a,b){return n(a,b)})).rangeBands(d||[0,k],.1);var v=[];if(!c){var w=d3.min(a.map(function(a){var b=[];return b.push(a.values.Q1),a.values.hasOwnProperty("whisker_low")&&null!==a.values.whisker_low&&b.push(a.values.whisker_low),a.values.hasOwnProperty("outliers")&&null!==a.values.outliers&&(b=b.concat(a.values.outliers)),d3.min(b)})),x=d3.max(a.map(function(a){var b=[];return b.push(a.values.Q3),a.values.hasOwnProperty("whisker_high")&&null!==a.values.whisker_high&&b.push(a.values.whisker_high),a.values.hasOwnProperty("outliers")&&null!==a.values.outliers&&(b=b.concat(a.values.outliers)),d3.max(b)}));v=[w,x]}m.domain(c||v),m.range(e||[o,0]),f=f||l,g=g||m.copy().range([m(0),m(0)]);var y=q.selectAll("g.nv-wrap").data([a]);y.enter().append("g").attr("class","nvd3 nv-wrap");y.attr("transform","translate("+h.left+","+h.top+")");var z=y.selectAll(".nv-boxplot").data(function(a){return a}),A=z.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);z.attr("class","nv-boxplot").attr("transform",function(a,b,c){return"translate("+(l(n(a,b))+.05*l.rangeBand())+", 0)"}).classed("hover",function(a){return a.hover}),z.watchTransition(u,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(b,c){return c*s/a.length}).attr("transform",function(a,b){return"translate("+(l(n(a,b))+.05*l.rangeBand())+", 0)"}),z.exit().remove(),A.each(function(a,b){var c=d3.select(this);["low","high"].forEach(function(d){a.values.hasOwnProperty("whisker_"+d)&&null!==a.values["whisker_"+d]&&(c.append("line").style("stroke",a.color?a.color:p(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+d),c.append("line").style("stroke",a.color?a.color:p(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+d))})});var B=z.selectAll(".nv-boxplot-outlier").data(function(a){return a.values.hasOwnProperty("outliers")&&null!==a.values.outliers?a.values.outliers:[]});B.enter().append("circle").style("fill",function(a,b,c){return p(a,c)}).style("stroke",function(a,b,c){return p(a,c)}).on("mouseover",function(a,b,c){d3.select(this).classed("hover",!0),r.elementMouseover({series:{key:a,color:p(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",!1),r.elementMouseout({series:{key:a,color:p(a,c)},e:d3.event})}).on("mousemove",function(a,b){r.elementMousemove({e:d3.event})}),B.attr("class","nv-boxplot-outlier"),B.watchTransition(u,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*l.rangeBand()).attr("cy",function(a,b,c){return m(a)}).attr("r","3"),B.exit().remove();var C=function(){return null===t?.9*l.rangeBand():Math.min(75,.9*l.rangeBand())},D=function(){return.45*l.rangeBand()-C()/2},E=function(){return.45*l.rangeBand()+C()/2};["low","high"].forEach(function(a){var b="low"===a?"Q1":"Q3";z.select("line.nv-boxplot-whisker.nv-boxplot-"+a).watchTransition(u,"nv-boxplot: boxplots").attr("x1",.45*l.rangeBand()).attr("y1",function(b,c){return m(b.values["whisker_"+a])}).attr("x2",.45*l.rangeBand()).attr("y2",function(a,c){return m(a.values[b])}),z.select("line.nv-boxplot-tick.nv-boxplot-"+a).watchTransition(u,"nv-boxplot: boxplots").attr("x1",D).attr("y1",function(b,c){return m(b.values["whisker_"+a])}).attr("x2",E).attr("y2",function(b,c){return m(b.values["whisker_"+a])})}),["low","high"].forEach(function(a){A.selectAll(".nv-boxplot-"+a).on("mouseover",function(b,c,d){d3.select(this).classed("hover",!0),r.elementMouseover({series:{key:b.values["whisker_"+a],color:p(b,d)},e:d3.event})}).on("mouseout",function(b,c,d){d3.select(this).classed("hover",!1),r.elementMouseout({series:{key:b.values["whisker_"+a],color:p(b,d)},e:d3.event})}).on("mousemove",function(a,b){r.elementMousemove({e:d3.event})})}),A.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",!0),r.elementMouseover({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||p(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||p(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||p(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),r.elementMouseout({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||p(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||p(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||p(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(a,b){r.elementMousemove({e:d3.event})}),z.select("rect.nv-boxplot-box").watchTransition(u,"nv-boxplot: boxes").attr("y",function(a,b){return m(a.values.Q3)}).attr("width",C).attr("x",D).attr("height",function(a,b){return Math.abs(m(a.values.Q3)-m(a.values.Q1))||1}).style("fill",function(a,b){return a.color||p(a,b)}).style("stroke",function(a,b){return a.color||p(a,b)}),A.append("line").attr("class","nv-boxplot-median"),z.select("line.nv-boxplot-median").watchTransition(u,"nv-boxplot: boxplots line").attr("x1",D).attr("y1",function(a,b){return m(a.values.Q2)}).attr("x2",E).attr("y2",function(a,b){return m(a.values.Q2)}),f=l.copy(),g=m.copy()}),u.renderEnd("nv-boxplot immediate"),a}var b,c,d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=960,j=500,k=Math.floor(1e4*Math.random()),l=d3.scale.ordinal(),m=d3.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=nv.utils.defaultColor(),q=null,r=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),s=250,t=null,u=nv.utils.renderWatch(r,s);return a.dispatch=r,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},maxBoxWidth:{get:function(){return t},set:function(a){t=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return b},set:function(a){b=a}},yDomain:{get:function(){return c},set:function(a){c=a}},xRange:{get:function(){return d},set:function(a){d=a}},yRange:{get:function(){return e},set:function(a){e=a}},id:{get:function(){return k},set:function(a){k=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},color:{get:function(){return p},set:function(a){p=nv.utils.getColor(a)}},duration:{get:function(){return s},set:function(a){s=a,u.reset(s)}}}),nv.utils.initOptions(a),a},nv.models.boxPlotChart=function(){"use strict";function a(j){return s.reset(),s.models(d),k&&s.models(e),l&&s.models(f),j.each(function(j){var o=d3.select(this);nv.utils.initSVG(o);var s=(h||parseInt(o.style("width"))||960)-g.left-g.right,t=(i||parseInt(o.style("height"))||400)-g.top-g.bottom;
if(a.update=function(){q.beforeUpdate(),o.transition().duration(r).call(a)},a.container=this,!(j&&j.length&&j.filter(function(a){return a.values.hasOwnProperty("Q1")&&a.values.hasOwnProperty("Q2")&&a.values.hasOwnProperty("Q3")}).length)){var u=o.selectAll(".nv-noData").data([p]);return u.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),u.attr("x",g.left+s/2).attr("y",g.top+t/2).text(function(a){return a}),a}o.selectAll(".nv-noData").remove(),b=d.xScale(),c=d.yScale().clamp(!0);var v=o.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([j]),w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),x=w.append("defs"),y=v.select("g");w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),w.append("g").attr("class","nv-barsWrap"),y.attr("transform","translate("+g.left+","+g.top+")"),m&&y.select(".nv-y.nv-axis").attr("transform","translate("+s+",0)"),d.width(s).height(t);var z=y.select(".nv-barsWrap").datum(j.filter(function(a){return!a.disabled}));if(z.transition().call(d),x.append("clipPath").attr("id","nv-x-label-clip-"+d.id()).append("rect"),y.select("#nv-x-label-clip-"+d.id()+" rect").attr("width",b.rangeBand()*(n?2:1)).attr("height",16).attr("x",-b.rangeBand()/(n?1:2)),k){e.scale(b).ticks(nv.utils.calcTicksX(s/100,j)).tickSize(-t,0),y.select(".nv-x.nv-axis").attr("transform","translate(0,"+c.range()[0]+")"),y.select(".nv-x.nv-axis").call(e);var A=y.select(".nv-x.nv-axis").selectAll("g");n&&A.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}l&&(f.scale(c).ticks(Math.floor(t/36)).tickSize(-s,0),y.select(".nv-y.nv-axis").call(f)),y.select(".nv-zeroLine line").attr("x1",0).attr("x2",s).attr("y1",c(0)).attr("y2",c(0))}),s.renderEnd("nv-boxplot chart immediate"),a}var b,c,d=nv.models.boxPlot(),e=nv.models.axis(),f=nv.models.axis(),g={top:15,right:10,bottom:50,left:60},h=null,i=null,j=nv.utils.getColor(),k=!0,l=!0,m=!1,n=!1,o=nv.models.tooltip(),p="No Data Available.",q=d3.dispatch("beforeUpdate","renderEnd"),r=250;e.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),f.orient(m?"right":"left").tickFormat(d3.format(",.1f")),o.duration(0);var s=nv.utils.renderWatch(q,r);return d.dispatch.on("elementMouseover.tooltip",function(a){o.data(a).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){o.data(a).hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(a){o()}),a.dispatch=q,a.boxplot=d,a.xAxis=e,a.yAxis=f,a.tooltip=o,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},staggerLabels:{get:function(){return n},set:function(a){n=a}},showXAxis:{get:function(){return k},set:function(a){k=a}},showYAxis:{get:function(){return l},set:function(a){l=a}},tooltipContent:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return r},set:function(a){r=a,s.reset(r),d.duration(r),e.duration(r),f.duration(r)}},color:{get:function(){return j},set:function(a){j=nv.utils.getColor(a),d.color(j)}},rightAlignYAxis:{get:function(){return m},set:function(a){m=a,f.orient(a?"right":"left")}}}),nv.utils.inheritOptions(a,d),nv.utils.initOptions(a),a},nv.models.bullet=function(){"use strict";function a(c){return c.each(function(a,c){var o=l-b.left-b.right,r=m-b.top-b.bottom;n=d3.select(this),nv.utils.initSVG(n);var s=e.call(this,a,c).slice().sort(d3.descending),t=f.call(this,a,c).slice().sort(d3.descending),u=g.call(this,a,c).slice().sort(d3.descending),v=h.call(this,a,c).slice(),w=i.call(this,a,c).slice(),x=j.call(this,a,c).slice(),y=d3.scale.linear().domain(d3.extent(d3.merge([k,s]))).range(d?[o,0]:[0,o]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(y.range());this.__chart__=y;var z=d3.min(s),A=d3.max(s),B=s[1],C=n.selectAll("g.nv-wrap.nv-bullet").data([a]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),E=D.append("g"),F=C.select("g");E.append("rect").attr("class","nv-range nv-rangeMax"),E.append("rect").attr("class","nv-range nv-rangeAvg"),E.append("rect").attr("class","nv-range nv-rangeMin"),E.append("rect").attr("class","nv-measure"),C.attr("transform","translate("+b.left+","+b.top+")");var G=function(a){return Math.abs(y(a)-y(0))},H=function(a){return y(0>a?a:0)};F.select("rect.nv-rangeMax").attr("height",r).attr("width",G(A>0?A:z)).attr("x",H(A>0?A:z)).datum(A>0?A:z),F.select("rect.nv-rangeAvg").attr("height",r).attr("width",G(B)).attr("x",H(B)).datum(B),F.select("rect.nv-rangeMin").attr("height",r).attr("width",G(A)).attr("x",H(A)).attr("width",G(A>0?z:A)).attr("x",H(A>0?z:A)).datum(A>0?z:A),F.select("rect.nv-measure").style("fill",p).attr("height",r/3).attr("y",r/3).attr("width",0>u?y(0)-y(u[0]):y(u[0])-y(0)).attr("x",H(u)).on("mouseover",function(){q.elementMouseover({value:u[0],label:x[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){q.elementMousemove({value:u[0],label:x[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){q.elementMouseout({value:u[0],label:x[0]||"Current",color:d3.select(this).style("fill")})});var I=r/6,J=t.map(function(a,b){return{value:a,label:w[b]}});E.selectAll("path.nv-markerTriangle").data(J).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+I+"L"+I+","+-I+" "+-I+","+-I+"Z").on("mouseover",function(a){q.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[y(a.value),r/2]})}).on("mousemove",function(a){q.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){q.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}),F.selectAll("path.nv-markerTriangle").data(J).attr("transform",function(a){return"translate("+y(a.value)+","+r/2+")"}),C.selectAll(".nv-range").on("mouseover",function(a,b){var c=v[b]||(b?1==b?"Mean":"Minimum":"Maximum");q.elementMouseover({value:a,label:c,color:d3.select(this).style("fill")})}).on("mousemove",function(){q.elementMousemove({value:u[0],label:x[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){var c=v[b]||(b?1==b?"Mean":"Minimum":"Maximum");q.elementMouseout({value:a,label:c,color:d3.select(this).style("fill")})})}),a}var b={top:0,right:0,bottom:0,left:0},c="left",d=!1,e=function(a){return a.ranges},f=function(a){return a.markers?a.markers:[]},g=function(a){return a.measures},h=function(a){return a.rangeLabels?a.rangeLabels:[]},i=function(a){return a.markerLabels?a.markerLabels:[]},j=function(a){return a.measureLabels?a.measureLabels:[]},k=[0],l=380,m=30,n=null,o=null,p=nv.utils.getColor(["#1f77b4"]),q=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");return a.dispatch=q,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{ranges:{get:function(){return e},set:function(a){e=a}},markers:{get:function(){return f},set:function(a){f=a}},measures:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return k},set:function(a){k=a}},width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},tickFormat:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top,b.right=void 0!==a.right?a.right:b.right,b.bottom=void 0!==a.bottom?a.bottom:b.bottom,b.left=void 0!==a.left?a.left:b.left}},orient:{get:function(){return c},set:function(a){c=a,d="right"==c||"bottom"==c}},color:{get:function(){return p},set:function(a){p=nv.utils.getColor(a)}}}),nv.utils.initOptions(a),a},nv.models.bulletChart=function(){"use strict";function a(c){return c.each(function(d,n){var o=d3.select(this);nv.utils.initSVG(o);var p=nv.utils.availableWidth(j,o,f),q=k-f.top-f.bottom;if(a.update=function(){a(c)},a.container=this,!d||!g.call(this,d,n))return nv.utils.noData(a,o),a;o.selectAll(".nv-noData").remove();var r=g.call(this,d,n).slice().sort(d3.descending),s=h.call(this,d,n).slice().sort(d3.descending),t=i.call(this,d,n).slice().sort(d3.descending),u=o.selectAll("g.nv-wrap.nv-bulletChart").data([d]),v=u.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),w=v.append("g"),x=u.select("g");w.append("g").attr("class","nv-bulletWrap"),w.append("g").attr("class","nv-titles"),u.attr("transform","translate("+f.left+","+f.top+")");var y=d3.scale.linear().domain([0,Math.max(r[0],s[0]||0,t[0])]).range(e?[p,0]:[0,p]),z=this.__chart__||d3.scale.linear().domain([0,1/0]).range(y.range());this.__chart__=y;var A=w.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(k-f.top-f.bottom)/2+")");A.append("text").attr("class","nv-title").text(function(a){return a.title}),A.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle}),b.width(p).height(q);var B=x.select(".nv-bulletWrap");d3.transition(B).call(b);var C=l||y.tickFormat(p/100),D=x.selectAll("g.nv-tick").data(y.ticks(m?m:p/50),function(a){return this.textContent||C(a)}),E=D.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+z(a)+",0)"}).style("opacity",1e-6);E.append("line").attr("y1",q).attr("y2",7*q/6),E.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*q/6).text(C);var F=d3.transition(D).attr("transform",function(a){return"translate("+y(a)+",0)"}).style("opacity",1);F.select("line").attr("y1",q).attr("y2",7*q/6),F.select("text").attr("y",7*q/6),d3.transition(D.exit()).attr("transform",function(a){return"translate("+y(a)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),a}var b=nv.models.bullet(),c=nv.models.tooltip(),d="left",e=!1,f={top:5,right:40,bottom:20,left:120},g=function(a){return a.ranges},h=function(a){return a.markers?a.markers:[]},i=function(a){return a.measures},j=null,k=55,l=null,m=null,n=null,o=d3.dispatch();return c.duration(0).headerEnabled(!1),b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color},c.data(a).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){c.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(a){c()}),a.bullet=b,a.dispatch=o,a.tooltip=c,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return h},set:function(a){h=a}},measures:{get:function(){return i},set:function(a){i=a}},width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},tickFormat:{get:function(){return l},set:function(a){l=a}},ticks:{get:function(){return m},set:function(a){m=a}},noData:{get:function(){return n},set:function(a){n=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},orient:{get:function(){return d},set:function(a){d=a,e="right"==d||"bottom"==d}}}),nv.utils.inheritOptions(a,b),nv.utils.initOptions(a),a},nv.models.candlestickBar=function(){"use strict";function a(w){return w.each(function(a){b=d3.select(this);var w=nv.utils.availableWidth(h,b,g),x=nv.utils.availableHeight(i,b,g);nv.utils.initSVG(b);var z=w/a[0].values.length*.45;k.domain(c||d3.extent(a[0].values.map(m).concat(s))),u?k.range(e||[.5*w/a[0].values.length,w*(a[0].values.length-.5)/a[0].values.length]):k.range(e||[5+z/2,w-z/2-5]),l.domain(d||[d3.min(a[0].values.map(r).concat(t)),d3.max(a[0].values.map(q).concat(t))]).range(f||[x,0]),k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]-.01*k.domain()[0],k.domain()[1]+.01*k.domain()[1]]):k.domain([-1,1])),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]+.01*l.domain()[0],l.domain()[1]-.01*l.domain()[1]]):l.domain([-1,1]));var A=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([a[0].values]),B=A.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),C=B.append("defs"),D=B.append("g"),E=A.select("g");D.append("g").attr("class","nv-ticks"),A.attr("transform","translate("+g.left+","+g.top+")"),b.on("click",function(a,b){y.chartClick({data:a,index:b,pos:d3.event,id:j})}),C.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect"),A.select("#nv-chart-clip-path-"+j+" rect").attr("width",w).attr("height",x),E.attr("clip-path",v?"url(#nv-chart-clip-path-"+j+")":"");var F=A.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});F.exit().remove();var G=F.enter().append("g");F.attr("class",function(a,b,c){return(o(a,b)>p(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});G.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+k(m(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return l(q(a,b))}).attr("x2",0).attr("y2",function(a,b){return l(r(a,b))}),G.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(k(m(a,b))-z/2)+","+(l(n(a,b))-(o(a,b)>p(a,b)?l(p(a,b))-l(o(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",z).attr("height",function(a,b){var c=o(a,b),d=p(a,b);return c>d?l(d)-l(c):l(c)-l(d)});F.select(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+k(m(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return l(q(a,b))}).attr("x2",0).attr("y2",function(a,b){return l(r(a,b))}),F.select(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(k(m(a,b))-z/2)+","+(l(n(a,b))-(o(a,b)>p(a,b)?l(p(a,b))-l(o(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",z).attr("height",function(a,b){var c=o(a,b),d=p(a,b);return c>d?l(d)-l(c):l(c)-l(d)})}),a}var b,c,d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,i=null,j=Math.floor(1e4*Math.random()),k=d3.scale.linear(),l=d3.scale.linear(),m=function(a){return a.x},n=function(a){return a.y},o=function(a){return a.open},p=function(a){return a.close},q=function(a){return a.high},r=function(a){return a.low},s=[],t=[],u=!1,v=!0,w=nv.utils.defaultColor(),x=!1,y=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return a.highlightPoint=function(c,d){a.clearHighlights(),b.select(".nv-candlestickBar .nv-tick-0-"+c).classed("hover",d)},a.clearHighlights=function(){b.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},a.dispatch=y,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return k},set:function(a){k=a}},yScale:{get:function(){return l},set:function(a){l=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},forceX:{get:function(){return s},set:function(a){s=a}},forceY:{get:function(){return t},set:function(a){t=a}},padData:{get:function(){return u},set:function(a){u=a}},clipEdge:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return j},set:function(a){j=a}},interactive:{get:function(){return x},set:function(a){x=a}},x:{get:function(){return m},set:function(a){m=a}},y:{get:function(){return n},set:function(a){n=a}},open:{get:function(){return o()},set:function(a){o=a}},close:{get:function(){return p()},set:function(a){p=a}},high:{get:function(){return q},set:function(a){q=a}},low:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!=a.top?a.top:g.top,g.right=void 0!=a.right?a.right:g.right,g.bottom=void 0!=a.bottom?a.bottom:g.bottom,g.left=void 0!=a.left?a.left:g.left}},color:{get:function(){return w},set:function(a){w=nv.utils.getColor(a)}}}),nv.utils.initOptions(a),a},nv.models.cumulativeLineChart=function(){"use strict";function a(k){return G.reset(),G.models(e),q&&G.models(f),r&&G.models(g),k.each(function(k){function z(b,c){d3.select(a.container).style("cursor","ew-resize")}function D(a,b){F.x=d3.event.x,F.i=Math.round(E.invert(F.x)),J()}function G(b,c){d3.select(a.container).style("cursor","auto"),x.index=F.i,B.stateChange(x)}function J(){aa.data([F]);var b=a.duration();a.duration(0),a.update(),a.duration(b)}var K=d3.select(this);nv.utils.initSVG(K),K.classed("nv-chart-"+w,!0);var L=this,M=nv.utils.availableWidth(n,K,l),N=nv.utils.availableHeight(o,K,l);if(a.update=function(){0===C?K.call(a):K.transition().duration(C).call(a)},a.container=this,x.setter(I(k),a.update).getter(H(k)).update(),x.disabled=k.map(function(a){return!!a.disabled}),!y){var O;y={};for(O in x)x[O]instanceof Array?y[O]=x[O].slice(0):y[O]=x[O]}var P=d3.behavior.drag().on("dragstart",z).on("drag",D).on("dragend",G);if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return nv.utils.noData(a,K),a;if(K.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale(),v)e.yDomain(null);else{var Q=k.filter(function(a){return!a.disabled}).map(function(a,b){var c=d3.extent(a.values,e.y());return c[0]<-.95&&(c[0]=-.95),[(c[0]-c[1])/(1+c[1]),(c[1]-c[0])/(1+c[0])]}),R=[d3.min(Q,function(a){return a[0]}),d3.max(Q,function(a){return a[1]})];e.yDomain(R)}E.domain([0,k[0].values.length-1]).range([0,M]).clamp(!0);var k=b(F.i,k),S=u?"none":"all",T=K.selectAll("g.nv-wrap.nv-cumulativeLine").data([k]),U=T.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),V=T.select("g");if(U.append("g").attr("class","nv-interactive"),U.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),U.append("g").attr("class","nv-y nv-axis"),U.append("g").attr("class","nv-background"),U.append("g").attr("class","nv-linesWrap").style("pointer-events",S),U.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),U.append("g").attr("class","nv-legendWrap"),U.append("g").attr("class","nv-controlsWrap"),p&&(h.width(M),V.select(".nv-legendWrap").datum(k).call(h),l.top!=h.height()&&(l.top=h.height(),N=nv.utils.availableHeight(o,K,l)),V.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),t){var W=[{key:"Re-scale y-axis",disabled:!v}];i.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),V.select(".nv-controlsWrap").datum(W).attr("transform","translate(0,"+-l.top+")").call(i)}T.attr("transform","translate("+l.left+","+l.top+")"),s&&V.select(".nv-y.nv-axis").attr("transform","translate("+M+",0)");var X=k.filter(function(a){return a.tempDisabled});T.select(".tempDisabled").remove(),X.length&&T.append("text").attr("class","tempDisabled").attr("x",M/2).attr("y","-.71em").style("text-anchor","end").text(X.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period."),u&&(j.width(M).height(N).margin({left:l.left,top:l.top}).svgContainer(K).xScale(c),T.select(".nv-interactive").call(j)),U.select(".nv-background").append("rect"),V.select(".nv-background rect").attr("width",M).attr("height",N),e.y(function(a){return a.display.y}).width(M).height(N).color(k.map(function(a,b){return a.color||m(a,b)}).filter(function(a,b){return!k[b].disabled&&!k[b].tempDisabled}));var Y=V.select(".nv-linesWrap").datum(k.filter(function(a){return!a.disabled&&!a.tempDisabled}));Y.call(e),k.forEach(function(a,b){a.seriesIndex=b});var Z=k.filter(function(a){return!a.disabled&&!!A(a)}),$=V.select(".nv-avgLinesWrap").selectAll("line").data(Z,function(a){return a.key}),_=function(a){var b=d(A(a));return 0>b?0:b>N?N:b};$.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return e.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",M).attr("y1",_).attr("y2",_),$.style("stroke-opacity",function(a){var b=d(A(a));return 0>b||b>N?0:1}).attr("x1",0).attr("x2",M).attr("y1",_).attr("y2",_),$.exit().remove();var aa=Y.selectAll(".nv-indexLine").data([F]);aa.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(P),aa.attr("transform",function(a){return"translate("+E(a.i)+",0)"}).attr("height",N),q&&(f.scale(c)._ticks(nv.utils.calcTicksX(M/70,k)).tickSize(-N,0),V.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),V.select(".nv-x.nv-axis").call(f)),r&&(g.scale(d)._ticks(nv.utils.calcTicksY(N/36,k)).tickSize(-M,0),V.select(".nv-y.nv-axis").call(g)),V.select(".nv-background rect").on("click",function(){F.x=d3.mouse(this)[0],F.i=Math.round(E.invert(F.x)),x.index=F.i,B.stateChange(x),J()}),e.dispatch.on("elementClick",function(a){F.i=a.pointIndex,F.x=E(F.i),x.index=F.i,B.stateChange(x),J()}),i.dispatch.on("legendClick",function(b,c){b.disabled=!b.disabled,v=!b.disabled,x.rescaleY=v,B.stateChange(x),a.update()}),h.dispatch.on("stateChange",function(b){for(var c in b)x[c]=b[c];B.stateChange(x),a.update()}),j.dispatch.on("elementMousemove",function(b){e.clearHighlights();var c,d,h,i=[];if(k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(f,g){d=nv.interactiveBisect(f.values,b.pointXValue,a.x()),e.highlightPoint(g,d,!0);var j=f.values[d];"undefined"!=typeof j&&("undefined"==typeof c&&(c=j),"undefined"==typeof h&&(h=a.xScale()(a.x()(j,d))),i.push({key:f.key,value:a.y()(j,d),color:m(f,f.seriesIndex)}))}),i.length>2){var l=a.yScale().invert(b.mouseY),n=Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),o=.03*n,p=nv.nearestValueIndex(i.map(function(a){return a.value}),l,o);null!==p&&(i[p].highlight=!0)}var q=f.tickFormat()(a.x()(c,d),d);j.tooltip.chartContainer(L.parentNode).valueFormatter(function(a,b){return g.tickFormat()(a)}).data({value:q,series:i})(),j.renderGuideLine(h)}),j.dispatch.on("elementMouseout",function(a){e.clearHighlights()}),B.on("changeState",function(b){"undefined"!=typeof b.disabled&&(k.forEach(function(a,c){a.disabled=b.disabled[c]}),x.disabled=b.disabled),"undefined"!=typeof b.index&&(F.i=b.index,F.x=E(F.i),x.index=b.index,aa.data([F])),"undefined"!=typeof b.rescaleY&&(v=b.rescaleY),a.update()})}),G.renderEnd("cumulativeLineChart immediate"),a}function b(a,b){return J||(J=e.y()),b.map(function(b,c){if(!b.values)return b;var d=b.values[a];if(null==d)return b;var e=J(d,a);return-.95>e&&!D?(b.tempDisabled=!0,b):(b.tempDisabled=!1,b.values=b.values.map(function(a,b){return a.display={y:(J(a,b)-e)/(1+e)},a}),b)})}var c,d,e=nv.models.line(),f=nv.models.axis(),g=nv.models.axis(),h=nv.models.legend(),i=nv.models.legend(),j=nv.interactiveGuideline(),k=nv.models.tooltip(),l={top:30,right:30,bottom:50,left:60},m=nv.utils.defaultColor(),n=null,o=null,p=!0,q=!0,r=!0,s=!1,t=!0,u=!1,v=!0,w=e.id(),x=nv.utils.state(),y=null,z=null,A=function(a){return a.average},B=d3.dispatch("stateChange","changeState","renderEnd"),C=250,D=!1;x.index=0,x.rescaleY=v,f.orient("bottom").tickPadding(7),g.orient(s?"right":"left"),k.valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),i.updateState(!1);var E=d3.scale.linear(),F={i:0,x:0},G=nv.utils.renderWatch(B,C),H=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:F.i,rescaleY:v}}},I=function(a){return function(b){void 0!==b.index&&(F.i=b.index),void 0!==b.rescaleY&&(v=b.rescaleY),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};e.dispatch.on("elementMouseover.tooltip",function(b){var c={x:a.x()(b.point),y:a.y()(b.point),color:b.point.color};b.point=c,k.data(b).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)});var J=null;return a.dispatch=B,a.lines=e,a.legend=h,a.controls=i,a.xAxis=f,a.yAxis=g,a.interactiveLayer=j,a.state=x,a.tooltip=k,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return o},set:function(a){o=a}},rescaleY:{get:function(){return v},set:function(a){v=a}},showControls:{get:function(){return t},set:function(a){t=a}},showLegend:{get:function(){return p},set:function(a){p=a}},average:{get:function(){return A},set:function(a){A=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return z},set:function(a){z=a}},showXAxis:{get:function(){return q},set:function(a){q=a}},showYAxis:{get:function(){return r},set:function(a){r=a}},noErrorCheck:{get:function(){return D},set:function(a){D=a}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top,l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},color:{get:function(){return m},set:function(a){m=nv.utils.getColor(a),h.color(m)}},useInteractiveGuideline:{get:function(){return u},set:function(b){u=b,b===!0&&(a.interactive(!1),a.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return s},set:function(a){s=a,g.orient(a?"right":"left")}},duration:{get:function(){return C},set:function(a){C=a,e.duration(C),f.duration(C),g.duration(C),G.reset(C)}}}),nv.utils.inheritOptions(a,e),nv.utils.initOptions(a),a},nv.models.discreteBar=function(){"use strict";function a(l){return x.reset(),l.each(function(a){var l=j-i.left-i.right,w=k-i.top-i.bottom;b=d3.select(this),nv.utils.initSVG(b),a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var y=c&&d?[]:a.map(function(a){return a.values.map(function(a,b){return{x:o(a,b),y:p(a,b),y0:a.y0}})});m.domain(c||d3.merge(y).map(function(a){return a.x})).rangeBands(e||[0,l],.1),n.domain(d||d3.extent(d3.merge(y).map(function(a){return a.y}).concat(q))),s?n.range(f||[w-(n.domain()[0]<0?12:0),n.domain()[1]>0?12:0]):n.range(f||[w,0]),g=g||m,h=h||n.copy().range([n(0),n(0)]);var z=b.selectAll("g.nv-wrap.nv-discretebar").data([a]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),B=A.append("g");z.select("g");B.append("g").attr("class","nv-groups"),z.attr("transform","translate("+i.left+","+i.top+")");var C=z.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});C.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),C.exit().watchTransition(x,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),C.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),C.watchTransition(x,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var D=C.selectAll("g.nv-bar").data(function(a){return a.values});D.exit().remove();var E=D.enter().append("g").attr("transform",function(a,b,c){return"translate("+(m(o(a,b))+.05*m.rangeBand())+", "+n(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),u.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),u.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){u.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){var c=this;u.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}).on("dblclick",function(a,b){u.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});E.append("rect").attr("height",0).attr("width",.9*m.rangeBand()/a.length),s?(E.append("text").attr("text-anchor","middle"),D.select("text").text(function(a,b){return t(p(a,b))}).watchTransition(x,"discreteBar: bars text").attr("x",.9*m.rangeBand()/2).attr("y",function(a,b){return p(a,b)<0?n(p(a,b))-n(0)+12:-4})):D.selectAll("text").remove(),D.attr("class",function(a,b){return p(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||r(a,b)}).style("stroke",function(a,b){return a.color||r(a,b)}).select("rect").attr("class",v).watchTransition(x,"discreteBar: bars rect").attr("width",.9*m.rangeBand()/a.length),D.watchTransition(x,"discreteBar: bars").attr("transform",function(a,b){var c=m(o(a,b))+.05*m.rangeBand(),d=p(a,b)<0?n(0):n(0)-n(p(a,b))<1?n(0)-1:n(p(a,b));return"translate("+c+", "+d+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(n(p(a,b))-n(0)),1)}),g=m.copy(),h=n.copy()}),x.renderEnd("discreteBar immediate"),a}var b,c,d,e,f,g,h,i={top:0,right:0,bottom:0,left:0},j=960,k=500,l=Math.floor(1e4*Math.random()),m=d3.scale.ordinal(),n=d3.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=[0],r=nv.utils.defaultColor(),s=!1,t=d3.format(",.2f"),u=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),v="discreteBar",w=250,x=nv.utils.renderWatch(u,w);return a.dispatch=u,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},forceY:{get:function(){return q},set:function(a){q=a}},showValues:{get:function(){return s},set:function(a){s=a}},x:{get:function(){return o},set:function(a){o=a}},y:{get:function(){return p},set:function(a){p=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},valueFormat:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return l},set:function(a){l=a}},rectClass:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},color:{get:function(){return r},set:function(a){r=nv.utils.getColor(a)}},duration:{get:function(){return w},set:function(a){w=a,x.reset(w)}}}),nv.utils.initOptions(a),a},nv.models.discreteBarChart=function(){"use strict";function a(h){return w.reset(),w.models(d),n&&w.models(e),o&&w.models(f),h.each(function(h){var l=d3.select(this);nv.utils.initSVG(l);var t=nv.utils.availableWidth(j,l,i),w=nv.utils.availableHeight(k,l,i);if(a.update=function(){u.beforeUpdate(),l.transition().duration(v).call(a)},a.container=this,!(h&&h.length&&h.filter(function(a){return a.values.length}).length))return nv.utils.noData(a,l),a;l.selectAll(".nv-noData").remove(),b=d.xScale(),c=d.yScale().clamp(!0);var x=l.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([h]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),z=y.append("defs"),A=x.select("g");y.append("g").attr("class","nv-x nv-axis"),y.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),y.append("g").attr("class","nv-barsWrap"),y.append("g").attr("class","nv-legendWrap"),A.attr("transform","translate("+i.left+","+i.top+")"),m&&(g.width(t),A.select(".nv-legendWrap").datum(h).call(g),i.top!=g.height()&&(i.top=g.height(),w=nv.utils.availableHeight(k,l,i)),x.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")),p&&A.select(".nv-y.nv-axis").attr("transform","translate("+t+",0)"),p&&A.select(".nv-y.nv-axis").attr("transform","translate("+t+",0)"),d.width(t).height(w);var B=A.select(".nv-barsWrap").datum(h.filter(function(a){return!a.disabled}));if(B.transition().call(d),z.append("clipPath").attr("id","nv-x-label-clip-"+d.id()).append("rect"),
A.select("#nv-x-label-clip-"+d.id()+" rect").attr("width",b.rangeBand()*(q?2:1)).attr("height",16).attr("x",-b.rangeBand()/(q?1:2)),n){e.scale(b)._ticks(nv.utils.calcTicksX(t/100,h)).tickSize(-w,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+(c.range()[0]+(d.showValues()&&c.domain()[0]<0?16:0))+")"),A.select(".nv-x.nv-axis").call(e);var C=A.select(".nv-x.nv-axis").selectAll("g");q&&C.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"}),s&&C.selectAll(".tick text").attr("transform","rotate("+s+" 0,0)").style("text-anchor",s>0?"start":"end"),r&&A.selectAll(".tick text").call(nv.utils.wrapTicks,a.xAxis.rangeBand())}o&&(f.scale(c)._ticks(nv.utils.calcTicksY(w/36,h)).tickSize(-t,0),A.select(".nv-y.nv-axis").call(f)),A.select(".nv-zeroLine line").attr("x1",0).attr("x2",p?-t:t).attr("y1",c(0)).attr("y2",c(0))}),w.renderEnd("discreteBar chart immediate"),a}var b,c,d=nv.models.discreteBar(),e=nv.models.axis(),f=nv.models.axis(),g=nv.models.legend(),h=nv.models.tooltip(),i={top:15,right:10,bottom:50,left:60},j=null,k=null,l=nv.utils.getColor(),m=!1,n=!0,o=!0,p=!1,q=!1,r=!1,s=0,t=null,u=d3.dispatch("beforeUpdate","renderEnd"),v=250;e.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),f.orient(p?"right":"left").tickFormat(d3.format(",.1f")),h.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).keyFormatter(function(a,b){return e.tickFormat()(a,b)});var w=nv.utils.renderWatch(u,v);return d.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color},h.data(b).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){h.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(a){h()}),a.dispatch=u,a.discretebar=d,a.legend=g,a.xAxis=e,a.yAxis=f,a.tooltip=h,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},showLegend:{get:function(){return m},set:function(a){m=a}},staggerLabels:{get:function(){return q},set:function(a){q=a}},rotateLabels:{get:function(){return s},set:function(a){s=a}},wrapLabels:{get:function(){return r},set:function(a){r=!!a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},duration:{get:function(){return v},set:function(a){v=a,w.reset(v),d.duration(v),e.duration(v),f.duration(v)}},color:{get:function(){return l},set:function(a){l=nv.utils.getColor(a),d.color(l),g.color(l)}},rightAlignYAxis:{get:function(){return p},set:function(a){p=a,f.orient(a?"right":"left")}}}),nv.utils.inheritOptions(a,d),nv.utils.initOptions(a),a},nv.models.distribution=function(){"use strict";function a(j){return l.reset(),j.each(function(a){var j=(d-("x"===f?c.left+c.right:c.top+c.bottom),"x"==f?"y":"x"),k=d3.select(this);nv.utils.initSVG(k),b=b||i;var m=k.selectAll("g.nv-distribution").data([a]),n=m.enter().append("g").attr("class","nvd3 nv-distribution"),o=(n.append("g"),m.select("g"));m.attr("transform","translate("+c.left+","+c.top+")");var p=o.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});p.enter().append("g"),p.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return h(a,b)});var q=p.selectAll("line.nv-dist"+f).data(function(a){return a.values});q.enter().append("line").attr(f+"1",function(a,c){return b(g(a,c))}).attr(f+"2",function(a,c){return b(g(a,c))}),l.transition(p.exit().selectAll("line.nv-dist"+f),"dist exit").attr(f+"1",function(a,b){return i(g(a,b))}).attr(f+"2",function(a,b){return i(g(a,b))}).style("stroke-opacity",0).remove(),q.attr("class",function(a,b){return"nv-dist"+f+" nv-dist"+f+"-"+b}).attr(j+"1",0).attr(j+"2",e),l.transition(q,"dist").attr(f+"1",function(a,b){return i(g(a,b))}).attr(f+"2",function(a,b){return i(g(a,b))}),b=i.copy()}),l.renderEnd("distribution immediate"),a}var b,c={top:0,right:0,bottom:0,left:0},d=400,e=8,f="x",g=function(a){return a[f]},h=nv.utils.defaultColor(),i=d3.scale.linear(),j=250,k=d3.dispatch("renderEnd"),l=nv.utils.renderWatch(k,j);return a.options=nv.utils.optionsFunc.bind(a),a.dispatch=k,a.margin=function(b){return arguments.length?(c.top="undefined"!=typeof b.top?b.top:c.top,c.right="undefined"!=typeof b.right?b.right:c.right,c.bottom="undefined"!=typeof b.bottom?b.bottom:c.bottom,c.left="undefined"!=typeof b.left?b.left:c.left,a):c},a.width=function(b){return arguments.length?(d=b,a):d},a.axis=function(b){return arguments.length?(f=b,a):f},a.size=function(b){return arguments.length?(e=b,a):e},a.getData=function(b){return arguments.length?(g=d3.functor(b),a):g},a.scale=function(b){return arguments.length?(i=b,a):i},a.color=function(b){return arguments.length?(h=nv.utils.getColor(b),a):h},a.duration=function(b){return arguments.length?(j=b,l.reset(j),a):j},a},nv.models.furiousLegend=function(){"use strict";function a(p){function q(a,b){return"furious"!=o?"#000":m?a.disengaged?f(a,b):"#fff":m?void 0:a.disabled?f(a,b):"#fff"}function r(a,b){return m&&"furious"==o?a.disengaged?"#fff":f(a,b):a.disabled?"#fff":f(a,b)}return p.each(function(a){var p=c-b.left-b.right,s=d3.select(this);nv.utils.initSVG(s);var t=s.selectAll("g.nv-legend").data([a]),u=(t.enter().append("g").attr("class","nvd3 nv-legend").append("g"),t.select("g"));t.attr("transform","translate("+b.left+","+b.top+")");var v,w=u.selectAll(".nv-series").data(function(a){return"furious"!=o?a:a.filter(function(a){return m?!0:!a.disengaged})}),x=w.enter().append("g").attr("class","nv-series");if("classic"==o)x.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),v=w.select("circle");else if("furious"==o){x.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),v=w.select("rect"),x.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var y=w.select(".nv-check-box");y.each(function(a,b){d3.select(this).selectAll("path").attr("stroke",q(a,b))})}x.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var z=w.select("text.nv-legend-text");w.on("mouseover",function(a,b){n.legendMouseover(a,b)}).on("mouseout",function(a,b){n.legendMouseout(a,b)}).on("click",function(a,b){n.legendClick(a,b);var c=w.data();if(k){if("classic"==o)l?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==o)if(m)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!m){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}n.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=o||!m)&&(n.legendDblclick(a,b),k)){var c=w.data();c.forEach(function(a){a.disabled=!0,"furious"==o&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==o&&(a.userDisabled=a.disabled),n.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),w.classed("nv-disabled",function(a){return a.userDisabled}),w.exit().remove(),z.attr("fill",q).text(e);var A;switch(o){case"furious":A=23;break;case"classic":A=20}if(h){var B=[];w.each(function(a,b){var c;if(e(a).length>g){var d=e(a).substring(0,g);c=d3.select(this).select("text").text(d+"..."),d3.select(this).append("svg:title").text(e(a))}else c=d3.select(this).select("text");var f;try{if(f=c.node().getComputedTextLength(),0>=f)throw Error()}catch(h){f=nv.utils.calcApproxTextWidth(c)}B.push(f+i)});for(var C=0,D=0,E=[];p>D&&C<B.length;)E[C]=B[C],D+=B[C++];for(0===C&&(C=1);D>p&&C>1;){E=[],C--;for(var F=0;F<B.length;F++)B[F]>(E[F%C]||0)&&(E[F%C]=B[F]);D=E.reduce(function(a,b,c,d){return a+b})}for(var G=[],H=0,I=0;C>H;H++)G[H]=I,I+=E[H];w.attr("transform",function(a,b){return"translate("+G[b%C]+","+(5+Math.floor(b/C)*A)+")"}),j?u.attr("transform","translate("+(c-b.right-D)+","+b.top+")"):u.attr("transform","translate(0,"+b.top+")"),d=b.top+b.bottom+Math.ceil(B.length/C)*A}else{var J,K=5,L=5,M=0;w.attr("transform",function(a,d){var e=d3.select(this).select("text").node().getComputedTextLength()+i;return J=L,c<b.left+b.right+J+e&&(L=J=5,K+=A),L+=e,L>M&&(M=L),"translate("+J+","+K+")"}),u.attr("transform","translate("+(c-b.right-M)+","+b.top+")"),d=b.top+b.bottom+K+15}"furious"==o&&v.attr("width",function(a,b){return z[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),v.style("fill",r).style("stroke",function(a,b){return a.color||f(a,b)})}),a}var b={top:5,right:0,bottom:5,left:0},c=400,d=20,e=function(a){return a.key},f=nv.utils.getColor(),g=20,h=!0,i=28,j=!0,k=!0,l=!1,m=!1,n=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),o="classic";return a.dispatch=n,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return c},set:function(a){c=a}},height:{get:function(){return d},set:function(a){d=a}},key:{get:function(){return e},set:function(a){e=a}},align:{get:function(){return h},set:function(a){h=a}},rightAlign:{get:function(){return j},set:function(a){j=a}},maxKeyLength:{get:function(){return g},set:function(a){g=a}},padding:{get:function(){return i},set:function(a){i=a}},updateState:{get:function(){return k},set:function(a){k=a}},radioButtonMode:{get:function(){return l},set:function(a){l=a}},expanded:{get:function(){return m},set:function(a){m=a}},vers:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top,b.right=void 0!==a.right?a.right:b.right,b.bottom=void 0!==a.bottom?a.bottom:b.bottom,b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return f},set:function(a){f=nv.utils.getColor(a)}}}),nv.utils.initOptions(a),a},nv.models.historicalBar=function(){"use strict";function a(w){return w.each(function(a){v.reset(),j=d3.select(this);var w=nv.utils.availableWidth(g,j,f),x=nv.utils.availableHeight(h,j,f);nv.utils.initSVG(j),k.domain(b||d3.extent(a[0].values.map(m).concat(o))),q?k.range(d||[.5*w/a[0].values.length,w*(a[0].values.length-.5)/a[0].values.length]):k.range(d||[0,w]),l.domain(c||d3.extent(a[0].values.map(n).concat(p))).range(e||[x,0]),k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]-.01*k.domain()[0],k.domain()[1]+.01*k.domain()[1]]):k.domain([-1,1])),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]+.01*l.domain()[0],l.domain()[1]-.01*l.domain()[1]]):l.domain([-1,1]));var y=j.selectAll("g.nv-wrap.nv-historicalBar-"+i).data([a[0].values]),z=y.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+i),A=z.append("defs"),B=z.append("g"),C=y.select("g");B.append("g").attr("class","nv-bars"),y.attr("transform","translate("+f.left+","+f.top+")"),j.on("click",function(a,b){t.chartClick({data:a,index:b,pos:d3.event,id:i})}),A.append("clipPath").attr("id","nv-chart-clip-path-"+i).append("rect"),y.select("#nv-chart-clip-path-"+i+" rect").attr("width",w).attr("height",x),C.attr("clip-path",r?"url(#nv-chart-clip-path-"+i+")":"");var D=y.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return m(a,b)});D.exit().remove(),D.enter().append("rect").attr("x",0).attr("y",function(a,b){return nv.utils.NaNtoZero(l(Math.max(0,n(a,b))))}).attr("height",function(a,b){return nv.utils.NaNtoZero(Math.abs(l(n(a,b))-l(0)))}).attr("transform",function(b,c){return"translate("+(k(m(b,c))-w/a[0].values.length*.45)+",0)"}).on("mouseover",function(a,b){u&&(d3.select(this).classed("hover",!0),t.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mouseout",function(a,b){u&&(d3.select(this).classed("hover",!1),t.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mousemove",function(a,b){u&&t.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){u&&(t.elementClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}).on("dblclick",function(a,b){u&&(t.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),D.attr("fill",function(a,b){return s(a,b)}).attr("class",function(a,b,c){return(n(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(v,"bars").attr("transform",function(b,c){return"translate("+(k(m(b,c))-w/a[0].values.length*.45)+",0)"}).attr("width",w/a[0].values.length*.9),D.watchTransition(v,"bars").attr("y",function(a,b){var c=n(a,b)<0?l(0):l(0)-l(n(a,b))<1?l(0)-1:l(n(a,b));return nv.utils.NaNtoZero(c)}).attr("height",function(a,b){return nv.utils.NaNtoZero(Math.max(Math.abs(l(n(a,b))-l(0)),1))})}),v.renderEnd("historicalBar immediate"),a}var b,c,d,e,f={top:0,right:0,bottom:0,left:0},g=null,h=null,i=Math.floor(1e4*Math.random()),j=null,k=d3.scale.linear(),l=d3.scale.linear(),m=function(a){return a.x},n=function(a){return a.y},o=[],p=[0],q=!1,r=!0,s=nv.utils.defaultColor(),t=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),u=!0,v=nv.utils.renderWatch(t,0);return a.highlightPoint=function(a,b){j.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)},a.clearHighlights=function(){j.select(".nv-bars .nv-bar.hover").classed("hover",!1)},a.dispatch=t,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},forceX:{get:function(){return o},set:function(a){o=a}},forceY:{get:function(){return p},set:function(a){p=a}},padData:{get:function(){return q},set:function(a){q=a}},x:{get:function(){return m},set:function(a){m=a}},y:{get:function(){return n},set:function(a){n=a}},xScale:{get:function(){return k},set:function(a){k=a}},yScale:{get:function(){return l},set:function(a){l=a}},xDomain:{get:function(){return b},set:function(a){b=a}},yDomain:{get:function(){return c},set:function(a){c=a}},xRange:{get:function(){return d},set:function(a){d=a}},yRange:{get:function(){return e},set:function(a){e=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},id:{get:function(){return i},set:function(a){i=a}},interactive:{get:function(){return u},set:function(a){u=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return s},set:function(a){s=nv.utils.getColor(a)}}}),nv.utils.initOptions(a),a},nv.models.historicalBarChart=function(a){"use strict";function b(a){return a.each(function(j){y.reset(),y.models(e),p&&y.models(f),q&&y.models(g);var v=d3.select(this),z=this;nv.utils.initSVG(v);var A=nv.utils.availableWidth(m,v,k),B=nv.utils.availableHeight(n,v,k);if(b.update=function(){v.transition().duration(x).call(b)},b.container=this,t.disabled=j.map(function(a){return!!a.disabled}),!u){var C;u={};for(C in t)t[C]instanceof Array?u[C]=t[C].slice(0):u[C]=t[C]}if(!(j&&j.length&&j.filter(function(a){return a.values.length}).length))return nv.utils.noData(b,v),b;v.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale();var D=v.selectAll("g.nv-wrap.nv-historicalBarChart").data([j]),E=D.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),F=D.select("g");E.append("g").attr("class","nv-x nv-axis"),E.append("g").attr("class","nv-y nv-axis"),E.append("g").attr("class","nv-barsWrap"),E.append("g").attr("class","nv-legendWrap"),E.append("g").attr("class","nv-interactive"),o&&(h.width(A),F.select(".nv-legendWrap").datum(j).call(h),k.top!=h.height()&&(k.top=h.height(),B=nv.utils.availableHeight(n,v,k)),D.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")),D.attr("transform","translate("+k.left+","+k.top+")"),r&&F.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),s&&(i.width(A).height(B).margin({left:k.left,top:k.top}).svgContainer(v).xScale(c),D.select(".nv-interactive").call(i)),e.width(A).height(B).color(j.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!j[b].disabled}));var G=F.select(".nv-barsWrap").datum(j.filter(function(a){return!a.disabled}));G.transition().call(e),p&&(f.scale(c)._ticks(nv.utils.calcTicksX(A/100,j)).tickSize(-B,0),F.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),F.select(".nv-x.nv-axis").transition().call(f)),q&&(g.scale(d)._ticks(nv.utils.calcTicksY(B/36,j)).tickSize(-A,0),F.select(".nv-y.nv-axis").transition().call(g)),i.dispatch.on("elementMousemove",function(a){e.clearHighlights();var c,d,h,k=[];j.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(f,g){d=nv.interactiveBisect(f.values,a.pointXValue,b.x()),e.highlightPoint(d,!0);var i=f.values[d];void 0!==i&&(void 0===c&&(c=i),void 0===h&&(h=b.xScale()(b.x()(i,d))),k.push({key:f.key,value:b.y()(i,d),color:l(f,f.seriesIndex),data:f.values[d]}))});var m=f.tickFormat()(b.x()(c,d));i.tooltip.chartContainer(z.parentNode).valueFormatter(function(a,b){return g.tickFormat()(a)}).data({value:m,index:d,series:k})(),i.renderGuideLine(h)}),i.dispatch.on("elementMouseout",function(a){w.tooltipHide(),e.clearHighlights()}),h.dispatch.on("legendClick",function(c,d){c.disabled=!c.disabled,j.filter(function(a){return!a.disabled}).length||j.map(function(a){return a.disabled=!1,D.selectAll(".nv-series").classed("disabled",!1),a}),t.disabled=j.map(function(a){return!!a.disabled}),w.stateChange(t),a.transition().call(b)}),h.dispatch.on("legendDblclick",function(a){j.forEach(function(a){a.disabled=!0}),a.disabled=!1,t.disabled=j.map(function(a){return!!a.disabled}),w.stateChange(t),b.update()}),w.on("changeState",function(a){"undefined"!=typeof a.disabled&&(j.forEach(function(b,c){b.disabled=a.disabled[c]}),t.disabled=a.disabled),b.update()})}),y.renderEnd("historicalBarChart immediate"),b}var c,d,e=a||nv.models.historicalBar(),f=nv.models.axis(),g=nv.models.axis(),h=nv.models.legend(),i=nv.interactiveGuideline(),j=nv.models.tooltip(),k={top:30,right:90,bottom:50,left:90},l=nv.utils.defaultColor(),m=null,n=null,o=!1,p=!0,q=!0,r=!1,s=!1,t={},u=null,v=null,w=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),x=250;f.orient("bottom").tickPadding(7),g.orient(r?"right":"left"),j.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)});var y=nv.utils.renderWatch(w,0);return e.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color},j.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){j()}),b.dispatch=w,b.bars=e,b.legend=h,b.xAxis=f,b.yAxis=g,b.interactiveLayer=i,b.tooltip=j,b.options=nv.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return p},set:function(a){p=a}},showYAxis:{get:function(){return q},set:function(a){q=a}},defaultState:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},color:{get:function(){return l},set:function(a){l=nv.utils.getColor(a),h.color(l),e.color(l)}},duration:{get:function(){return x},set:function(a){x=a,y.reset(x),g.duration(x),f.duration(x)}},rightAlignYAxis:{get:function(){return r},set:function(a){r=a,g.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return s},set:function(a){s=a,a===!0&&b.interactive(!1)}}}),nv.utils.inheritOptions(b,e),nv.utils.initOptions(b),b},nv.models.ohlcBarChart=function(){var a=nv.models.historicalBarChart(nv.models.ohlcBar());return a.useInteractiveGuideline(!0),a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data,d=c.open<c.close?"2ca02c":"d62728";return'<h3 style="color: #'+d+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),a},nv.models.candlestickBarChart=function(){var a=nv.models.historicalBarChart(nv.models.candlestickBar());return a.useInteractiveGuideline(!0),a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data,d=c.open<c.close?"2ca02c":"d62728";return'<h3 style="color: #'+d+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),a},nv.models.legend=function(){"use strict";function a(p){function q(a,b){return"furious"!=o?"#000":m?a.disengaged?"#000":"#fff":m?void 0:(a.color||(a.color=f(a,b)),a.disabled?a.color:"#fff")}function r(a,b){return m&&"furious"==o&&a.disengaged?"#eee":a.color||f(a,b)}function s(a,b){return m&&"furious"==o?1:a.disabled?0:1}return p.each(function(a){var f=c-b.left-b.right,p=d3.select(this);nv.utils.initSVG(p);var t=p.selectAll("g.nv-legend").data([a]),u=t.enter().append("g").attr("class","nvd3 nv-legend").append("g"),v=t.select("g");t.attr("transform","translate("+b.left+","+b.top+")");var w,x,y=v.selectAll(".nv-series").data(function(a){return"furious"!=o?a:a.filter(function(a){return m?!0:!a.disengaged})}),z=y.enter().append("g").attr("class","nv-series");switch(o){case"furious":x=23;break;case"classic":x=20}if("classic"==o)z.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),w=y.select("circle");else if("furious"==o){z.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),w=y.select(".nv-legend-symbol"),z.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var A=y.select(".nv-check-box");A.each(function(a,b){d3.select(this).selectAll("path").attr("stroke",q(a,b))})}z.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var B=y.select("text.nv-legend-text");y.on("mouseover",function(a,b){n.legendMouseover(a,b)}).on("mouseout",function(a,b){n.legendMouseout(a,b)}).on("click",function(a,b){n.legendClick(a,b);var c=y.data();if(k){if("classic"==o)l?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==o)if(m)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!m){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}n.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=o||!m)&&(n.legendDblclick(a,b),k)){var c=y.data();c.forEach(function(a){a.disabled=!0,"furious"==o&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==o&&(a.userDisabled=a.disabled),n.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),y.classed("nv-disabled",function(a){return a.userDisabled}),y.exit().remove(),B.attr("fill",q).text(e);var C=0;if(h){var D=[];y.each(function(a,b){var c;if(e(a).length>g){var d=e(a).substring(0,g);c=d3.select(this).select("text").text(d+"..."),d3.select(this).append("svg:title").text(e(a))}else c=d3.select(this).select("text");var f;try{if(f=c.node().getComputedTextLength(),0>=f)throw Error()}catch(h){f=nv.utils.calcApproxTextWidth(c)}D.push(f+i)});var E=0,F=[];for(C=0;f>C&&E<D.length;)F[E]=D[E],C+=D[E++];for(0===E&&(E=1);C>f&&E>1;){F=[],E--;for(var G=0;G<D.length;G++)D[G]>(F[G%E]||0)&&(F[G%E]=D[G]);C=F.reduce(function(a,b,c,d){return a+b})}for(var H=[],I=0,J=0;E>I;I++)H[I]=J,J+=F[I];y.attr("transform",function(a,b){return"translate("+H[b%E]+","+(5+Math.floor(b/E)*x)+")"}),j?v.attr("transform","translate("+(c-b.right-C)+","+b.top+")"):v.attr("transform","translate(0,"+b.top+")"),d=b.top+b.bottom+Math.ceil(D.length/E)*x}else{var K,L=5,M=5,N=0;y.attr("transform",function(a,d){var e=d3.select(this).select("text").node().getComputedTextLength()+i;return K=M,c<b.left+b.right+K+e&&(M=K=5,L+=x),M+=e,M>N&&(N=M),K+N>C&&(C=K+N),"translate("+K+","+L+")"}),v.attr("transform","translate("+(c-b.right-N)+","+b.top+")"),d=b.top+b.bottom+L+15}if("furious"==o){w.attr("width",function(a,b){return B[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),u.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var O=v.select(".nv-legend-bg");O.transition().duration(300).attr("x",-x).attr("width",C+x-12).attr("height",d+10).attr("y",-b.top-10).attr("opacity",m?1:0)}w.style("fill",r).style("fill-opacity",s).style("stroke",r)}),a}var b={top:5,right:0,bottom:5,left:0},c=400,d=20,e=function(a){return a.key},f=nv.utils.getColor(),g=20,h=!0,i=32,j=!0,k=!0,l=!1,m=!1,n=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),o="classic";return a.dispatch=n,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return c},set:function(a){c=a}},height:{get:function(){return d},set:function(a){d=a}},key:{get:function(){return e},set:function(a){e=a}},align:{get:function(){return h},set:function(a){h=a}},maxKeyLength:{get:function(){return g},set:function(a){g=a}},rightAlign:{get:function(){return j},set:function(a){j=a}},padding:{get:function(){return i},set:function(a){i=a}},updateState:{get:function(){return k},set:function(a){k=a}},radioButtonMode:{get:function(){return l},set:function(a){l=a}},expanded:{get:function(){return m},set:function(a){m=a}},vers:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top,b.right=void 0!==a.right?a.right:b.right,b.bottom=void 0!==a.bottom?a.bottom:b.bottom,b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return f},set:function(a){f=nv.utils.getColor(a)}}}),nv.utils.initOptions(a),a},nv.models.line=function(){"use strict";function a(q){return u.reset(),u.models(d),q.each(function(a){h=d3.select(this);var q=nv.utils.availableWidth(f,h,e),r=nv.utils.availableHeight(g,h,e);nv.utils.initSVG(h),b=d.xScale(),c=d.yScale(),s=s||b,t=t||c;var v=h.selectAll("g.nv-wrap.nv-line").data([a]),w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),x=w.append("defs"),y=w.append("g"),z=v.select("g");y.append("g").attr("class","nv-groups"),y.append("g").attr("class","nv-scatterWrap"),v.attr("transform","translate("+e.left+","+e.top+")"),d.width(q).height(r);var A=v.select(".nv-scatterWrap");A.call(d),x.append("clipPath").attr("id","nv-edge-clip-"+d.id()).append("rect"),v.select("#nv-edge-clip-"+d.id()+" rect").attr("width",q).attr("height",r>0?r:0),z.attr("clip-path",o?"url(#nv-edge-clip-"+d.id()+")":""),A.attr("clip-path",o?"url(#nv-edge-clip-"+d.id()+")":"");var B=v.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});B.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(a){return a.strokeWidth||i}).style("fill-opacity",1e-6),B.exit().remove(),B.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return j(a,b)}).style("stroke",function(a,b){return j(a,b)}),B.watchTransition(u,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||.5});var C=B.selectAll("path.nv-area").data(function(a){return n(a)?[a]:[]});C.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(p).defined(m).x(function(a,b){return nv.utils.NaNtoZero(s(k(a,b)))}).y0(function(a,b){return nv.utils.NaNtoZero(t(l(a,b)))}).y1(function(a,b){return t(c.domain()[0]<=0?c.domain()[1]>=0?0:c.domain()[1]:c.domain()[0])}).apply(this,[a.values])}),B.exit().selectAll("path.nv-area").remove(),C.watchTransition(u,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(p).defined(m).x(function(a,c){return nv.utils.NaNtoZero(b(k(a,c)))}).y0(function(a,b){return nv.utils.NaNtoZero(c(l(a,b)))}).y1(function(a,b){return c(c.domain()[0]<=0?c.domain()[1]>=0?0:c.domain()[1]:c.domain()[0])}).apply(this,[a.values])});var D=B.selectAll("path.nv-line").data(function(a){return[a.values]});D.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(p).defined(m).x(function(a,b){return nv.utils.NaNtoZero(s(k(a,b)))}).y(function(a,b){return nv.utils.NaNtoZero(t(l(a,b)))})),D.watchTransition(u,"line: linePaths").attr("d",d3.svg.line().interpolate(p).defined(m).x(function(a,c){return nv.utils.NaNtoZero(b(k(a,c)))}).y(function(a,b){return nv.utils.NaNtoZero(c(l(a,b)))})),s=b.copy(),t=c.copy()}),u.renderEnd("line immediate"),a}var b,c,d=nv.models.scatter(),e={top:0,right:0,bottom:0,left:0},f=960,g=500,h=null,i=1.5,j=nv.utils.defaultColor(),k=function(a){return a.x},l=function(a){return a.y},m=function(a,b){return!isNaN(l(a,b))&&null!==l(a,b)},n=function(a){return a.area},o=!1,p="linear",q=250,r=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");d.pointSize(16).pointDomain([16,256]);var s,t,u=nv.utils.renderWatch(r,q);return a.dispatch=r,a.scatter=d,d.dispatch.on("elementClick",function(){r.elementClick.apply(this,arguments)}),d.dispatch.on("elementMouseover",function(){r.elementMouseover.apply(this,arguments)}),d.dispatch.on("elementMouseout",function(){r.elementMouseout.apply(this,arguments)}),a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},defined:{get:function(){return m},set:function(a){m=a}},interpolate:{get:function(){return p},set:function(a){p=a}},clipEdge:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},duration:{get:function(){return q},set:function(a){q=a,u.reset(q),d.duration(q)}},isArea:{get:function(){return n},set:function(a){n=d3.functor(a)}},x:{get:function(){return k},set:function(a){k=a,d.x(a)}},y:{get:function(){return l},set:function(a){l=a,d.y(a)}},color:{get:function(){return j},set:function(a){j=nv.utils.getColor(a),
d.color(j)}}}),nv.utils.inheritOptions(a,d),nv.utils.initOptions(a),a},nv.models.lineChart=function(){"use strict";function a(k){return J.reset(),J.models(f),J.models(l),v&&J.models(g),w&&J.models(h),B&&J.models(m),A&&J.models(n),k.each(function(k){function G(){v&&W.select(".nv-focus .nv-x.nv-axis").transition().duration(I).call(g)}function J(){w&&W.select(".nv-focus .nv-y.nv-axis").transition().duration(I).call(h)}function M(a){var b=+("e"==a),c=b?1:-1,d=S/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function N(){o.empty()||o.extent(D),_.data([o.empty()?d.domain():D]).each(function(a,c){var e=d(a[0])-b.range()[0],f=Q-d(a[1]);d3.select(this).select(".left").attr("width",0>e?0:e),d3.select(this).select(".right").attr("x",d(a[1])).attr("width",0>f?0:f)})}function O(){D=o.empty()?null:o.extent();var a=o.empty()?d.domain():o.extent();if(!(Math.abs(a[0]-a[1])<=1)){H.brush({extent:a,brush:o}),N();var b=W.select(".nv-focus .nv-linesWrap").datum(k.filter(function(a){return!a.disabled}).map(function(b,c){return{key:b.key,area:b.area,classed:b.classed,values:b.values.filter(function(b,c){return f.x()(b,c)>=a[0]&&f.x()(b,c)<=a[1]}),disableTooltip:b.disableTooltip}}));b.transition().duration(I).call(f),G(),J()}}var P=d3.select(this);nv.utils.initSVG(P);var Q=nv.utils.availableWidth(s,P,p),R=nv.utils.availableHeight(t,P,p)-(z?C:0),S=C-q.top-q.bottom;if(a.update=function(){0===I?P.call(a):P.transition().duration(I).call(a)},a.container=this,E.setter(L(k),a.update).getter(K(k)).update(),E.disabled=k.map(function(a){return!!a.disabled}),!F){var T;F={};for(T in E)E[T]instanceof Array?F[T]=E[T].slice(0):F[T]=E[T]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return nv.utils.noData(a,P),a;P.selectAll(".nv-noData").remove(),b=f.xScale(),c=f.yScale(),d=l.xScale(),e=l.yScale();var U=P.selectAll("g.nv-wrap.nv-lineChart").data([k]),V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),W=U.select("g");V.append("g").attr("class","nv-legendWrap");var X=V.append("g").attr("class","nv-focus");X.append("g").attr("class","nv-background").append("rect"),X.append("g").attr("class","nv-x nv-axis"),X.append("g").attr("class","nv-y nv-axis"),X.append("g").attr("class","nv-linesWrap"),X.append("g").attr("class","nv-interactive");var Y=V.append("g").attr("class","nv-context");Y.append("g").attr("class","nv-background").append("rect"),Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-linesWrap"),Y.append("g").attr("class","nv-brushBackground"),Y.append("g").attr("class","nv-x nv-brush"),u&&(i.width(Q),W.select(".nv-legendWrap").datum(k).call(i),p.top!=i.height()&&(p.top=i.height(),R=nv.utils.availableHeight(t,P,p)-(z?C:0)),U.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),U.attr("transform","translate("+p.left+","+p.top+")"),x&&W.select(".nv-y.nv-axis").attr("transform","translate("+Q+",0)"),y&&(j.width(Q).height(R).margin({left:p.left,top:p.top}).svgContainer(P).xScale(b),U.select(".nv-interactive").call(j)),W.select(".nv-focus .nv-background rect").attr("width",Q).attr("height",R),f.width(Q).height(R).color(k.map(function(a,b){return a.color||r(a,b)}).filter(function(a,b){return!k[b].disabled}));var Z=W.select(".nv-linesWrap").datum(k.filter(function(a){return!a.disabled}));if(v&&g.scale(b)._ticks(nv.utils.calcTicksX(Q/100,k)).tickSize(-R,0),w&&h.scale(c)._ticks(nv.utils.calcTicksY(R/36,k)).tickSize(-Q,0),W.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+R+")"),z){l.defined(f.defined()).width(Q).height(S).color(k.map(function(a,b){return a.color||r(a,b)}).filter(function(a,b){return!k[b].disabled})),W.select(".nv-context").attr("transform","translate(0,"+(R+p.bottom+q.top)+")").style("display",z?"initial":"none");var $=W.select(".nv-context .nv-linesWrap").datum(k.filter(function(a){return!a.disabled}));d3.transition($).call(l),o.x(d).on("brush",function(){O()}),D&&o.extent(D);var _=W.select(".nv-brushBackground").selectAll("g").data([D||o.extent()]),aa=_.enter().append("g");aa.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",S),aa.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",S);var ba=W.select(".nv-x.nv-brush").call(o);ba.selectAll("rect").attr("height",S),ba.selectAll(".resize").append("path").attr("d",M),O(),W.select(".nv-context .nv-background rect").attr("width",Q).attr("height",S),B&&(m.scale(d)._ticks(nv.utils.calcTicksX(Q/100,k)).tickSize(-S,0),W.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),d3.transition(W.select(".nv-context .nv-x.nv-axis")).call(m)),A&&(n.scale(e)._ticks(nv.utils.calcTicksY(S/36,k)).tickSize(-Q,0),d3.transition(W.select(".nv-context .nv-y.nv-axis")).call(n)),W.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")")}else Z.call(f),G(),J();i.dispatch.on("stateChange",function(b){for(var c in b)E[c]=b[c];H.stateChange(E),a.update()}),j.dispatch.on("elementMousemove",function(c){f.clearHighlights();var e,g,i,l=[];if(k.filter(function(a,b){return a.seriesIndex=b,!a.disabled&&!a.disableTooltip}).forEach(function(h,j){var k=z?o.empty()?d.domain():o.extent():b.domain(),m=h.values.filter(function(a,b){return f.x()(a,b)>=k[0]&&f.x()(a,b)<=k[1]});g=nv.interactiveBisect(m,c.pointXValue,f.x());var n=m[g],p=a.y()(n,g);null!==p&&f.highlightPoint(h.seriesIndex,g,!0),void 0!==n&&(void 0===e&&(e=n),void 0===i&&(i=a.xScale()(a.x()(n,g))),l.push({key:h.key,value:p,color:r(h,h.seriesIndex),data:n}))}),l.length>2){var m=a.yScale().invert(c.mouseY),n=Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),p=.03*n,q=nv.nearestValueIndex(l.map(function(a){return a.value}),m,p);null!==q&&(l[q].highlight=!0)}j.tooltip.chartContainer(a.container.parentNode).valueFormatter(function(a,b){return null===a?"N/A":h.tickFormat()(a)}).data({value:a.x()(e,g),index:g,series:l})(),j.renderGuideLine(i)}),j.dispatch.on("elementClick",function(b){var c,d=[];k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(e){var f=nv.interactiveBisect(e.values,b.pointXValue,a.x()),g=e.values[f];if("undefined"!=typeof g){"undefined"==typeof c&&(c=a.xScale()(a.x()(g,f)));var h=a.yScale()(a.y()(g,f));d.push({point:g,pointIndex:f,pos:[c,h],seriesIndex:e.seriesIndex,series:e})}}),f.dispatch.elementClick(d)}),j.dispatch.on("elementMouseout",function(a){f.clearHighlights()}),H.on("changeState",function(b){"undefined"!=typeof b.disabled&&k.length===b.disabled.length&&(k.forEach(function(a,c){a.disabled=b.disabled[c]}),E.disabled=b.disabled),a.update()})}),J.renderEnd("lineChart immediate"),a}var b,c,d,e,f=nv.models.line(),g=nv.models.axis(),h=nv.models.axis(),i=nv.models.legend(),j=nv.interactiveGuideline(),k=nv.models.tooltip(),l=nv.models.line(),m=nv.models.axis(),n=nv.models.axis(),o=d3.svg.brush(),p={top:30,right:20,bottom:50,left:60},q={top:0,right:20,bottom:20,left:60},r=nv.utils.defaultColor(),s=null,t=null,u=!0,v=!0,w=!0,x=!1,y=!1,z=!1,A=!1,B=!0,C=50,D=null,E=nv.utils.state(),F=null,G=null,H=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState","renderEnd"),I=250;g.orient("bottom").tickPadding(7),h.orient(x?"right":"left"),f.clipEdge(!0).duration(0),l.interactive(!1),l.pointActive(function(a){return!1}),m.orient("bottom").tickPadding(5),n.orient(x?"right":"left"),k.valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),j.tooltip.valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)});var J=nv.utils.renderWatch(H,I),K=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},L=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return f.dispatch.on("elementMouseover.tooltip",function(a){a.series.disableTooltip||k.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),a.dispatch=H,a.lines=f,a.lines2=l,a.legend=i,a.xAxis=g,a.x2Axis=m,a.yAxis=h,a.y2Axis=n,a.interactiveLayer=j,a.tooltip=k,a.state=E,a.dispatch=H,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return s},set:function(a){s=a}},height:{get:function(){return t},set:function(a){t=a}},showLegend:{get:function(){return u},set:function(a){u=a}},showXAxis:{get:function(){return v},set:function(a){v=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},focusEnable:{get:function(){return z},set:function(a){z=a}},focusHeight:{get:function(){return height2},set:function(a){C=a}},focusShowAxisX:{get:function(){return B},set:function(a){B=a}},focusShowAxisY:{get:function(){return A},set:function(a){A=a}},brushExtent:{get:function(){return D},set:function(a){D=a}},defaultState:{get:function(){return F},set:function(a){F=a}},noData:{get:function(){return G},set:function(a){G=a}},margin:{get:function(){return p},set:function(a){p.top=void 0!==a.top?a.top:p.top,p.right=void 0!==a.right?a.right:p.right,p.bottom=void 0!==a.bottom?a.bottom:p.bottom,p.left=void 0!==a.left?a.left:p.left}},duration:{get:function(){return I},set:function(a){I=a,J.reset(I),f.duration(I),g.duration(I),m.duration(I),h.duration(I),n.duration(I)}},focusMargin:{get:function(){return q},set:function(a){q.top=void 0!==a.top?a.top:q.top,q.right=void 0!==a.right?a.right:q.right,q.bottom=void 0!==a.bottom?a.bottom:q.bottom,q.left=void 0!==a.left?a.left:q.left}},color:{get:function(){return r},set:function(a){r=nv.utils.getColor(a),i.color(r),f.color(r)}},interpolate:{get:function(){return f.interpolate()},set:function(a){f.interpolate(a),l.interpolate(a)}},xTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a),m.tickFormat(a)}},yTickFormat:{get:function(){return h.tickFormat()},set:function(a){h.tickFormat(a),n.tickFormat(a)}},x:{get:function(){return f.x()},set:function(a){f.x(a),l.x(a)}},y:{get:function(){return f.y()},set:function(a){f.y(a),l.y(a)}},rightAlignYAxis:{get:function(){return x},set:function(a){x=a,h.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(a){y=a,y&&(f.interactive(!1),f.useVoronoi(!1))}}}),nv.utils.inheritOptions(a,f),nv.utils.initOptions(a),a},nv.models.lineWithFocusChart=function(){return nv.models.lineChart().margin({bottom:30}).focusEnable(!0)},nv.models.linePlusBarChart=function(){"use strict";function a(u){return u.each(function(u){function I(a){var b=+("e"==a),c=b?1:-1,d=Y/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function Q(){t.empty()||t.extent(H),la.data([t.empty()?d.domain():H]).each(function(a,b){var c=d(a[0])-d.range()[0],e=d.range()[1]-d(a[1]);d3.select(this).select(".left").attr("width",0>c?0:c),d3.select(this).select(".right").attr("x",d(a[1])).attr("width",0>e?0:e)})}function R(){H=t.empty()?null:t.extent(),b=t.empty()?d.domain():t.extent(),J.brush({extent:b,brush:t}),Q(),k.width(W).height(X).color(u.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!u[b].disabled&&u[b].bar})),i.width(W).height(X).color(u.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!u[b].disabled&&!u[b].bar}));var a=ea.select(".nv-focus .nv-barsWrap").datum($.length?$.map(function(a,c){return{key:a.key,values:a.values.filter(function(a,c){return k.x()(a,c)>=b[0]&&k.x()(a,c)<=b[1]})}}):[{values:[]}]),g=ea.select(".nv-focus .nv-linesWrap").datum(U(_)?[{values:[]}]:_.filter(function(a){return!a.disabled}).map(function(a,c){return{area:a.area,fillOpacity:a.fillOpacity,key:a.key,values:a.values.filter(function(a,c){return i.x()(a,c)>=b[0]&&i.x()(a,c)<=b[1]})}}));c=$.length&&!P?k.xScale():i.xScale(),m.scale(c)._ticks(nv.utils.calcTicksX(W/100,u)).tickSize(-X,0),m.domain([Math.ceil(b[0]),Math.floor(b[1])]),ea.select(".nv-x.nv-axis").transition().duration(K).call(m),a.transition().duration(K).call(k),g.transition().duration(K).call(i),ea.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),o.scale(e)._ticks(nv.utils.calcTicksY(X/36,u)).tickSize(-W,0),p.scale(f)._ticks(nv.utils.calcTicksY(X/36,u)).tickSize($.length?0:-W,0);var h=$.length?1:0,j=_.length&&!U(_)?1:0,l=P?j:h,n=P?h:j;ea.select(".nv-focus .nv-y1.nv-axis").style("opacity",l),ea.select(".nv-focus .nv-y2.nv-axis").style("opacity",n).attr("transform","translate("+c.range()[1]+",0)"),ea.select(".nv-focus .nv-y1.nv-axis").transition().duration(K).call(o),ea.select(".nv-focus .nv-y2.nv-axis").transition().duration(K).call(p)}var V=d3.select(this);nv.utils.initSVG(V);var W=nv.utils.availableWidth(x,V,v),X=nv.utils.availableHeight(y,V,v)-(D?G:0),Y=G-w.top-w.bottom;if(a.update=function(){V.transition().duration(K).call(a)},a.container=this,L.setter(T(u),a.update).getter(S(u)).update(),L.disabled=u.map(function(a){return!!a.disabled}),!M){var Z;M={};for(Z in L)L[Z]instanceof Array?M[Z]=L[Z].slice(0):M[Z]=L[Z]}if(!(u&&u.length&&u.filter(function(a){return a.values.length}).length))return nv.utils.noData(a,V),a;V.selectAll(".nv-noData").remove();var $=u.filter(function(a){return!a.disabled&&a.bar}),_=u.filter(function(a){return!a.bar});c=k.xScale(),d=n.scale(),e=P?i.yScale():k.yScale(),f=P?k.yScale():i.yScale(),g=P?j.yScale():l.yScale(),h=P?l.yScale():j.yScale();var aa=u.filter(function(a){return!a.disabled&&(P?!a.bar:a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:z(a,b),y:A(a,b)}})}),ba=u.filter(function(a){return!a.disabled&&(P?a.bar:!a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:z(a,b),y:A(a,b)}})});c.range([0,W]),d.domain(d3.extent(d3.merge(aa.concat(ba)),function(a){return a.x})).range([0,W]);var ca=V.selectAll("g.nv-wrap.nv-linePlusBar").data([u]),da=ca.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ea=ca.select("g");da.append("g").attr("class","nv-legendWrap");var fa=da.append("g").attr("class","nv-focus");fa.append("g").attr("class","nv-x nv-axis"),fa.append("g").attr("class","nv-y1 nv-axis"),fa.append("g").attr("class","nv-y2 nv-axis"),fa.append("g").attr("class","nv-barsWrap"),fa.append("g").attr("class","nv-linesWrap");var ga=da.append("g").attr("class","nv-context");if(ga.append("g").attr("class","nv-x nv-axis"),ga.append("g").attr("class","nv-y1 nv-axis"),ga.append("g").attr("class","nv-y2 nv-axis"),ga.append("g").attr("class","nv-barsWrap"),ga.append("g").attr("class","nv-linesWrap"),ga.append("g").attr("class","nv-brushBackground"),ga.append("g").attr("class","nv-x nv-brush"),C){var ha=s.align()?W/2:W,ia=s.align()?ha:0;s.width(ha),ea.select(".nv-legendWrap").datum(u.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,P?a.key=a.originalKey+(a.bar?O:N):a.key=a.originalKey+(a.bar?N:O),a})).call(s),v.top!=s.height()&&(v.top=s.height(),X=nv.utils.availableHeight(y,V,v)-G),ea.select(".nv-legendWrap").attr("transform","translate("+ia+","+-v.top+")")}ca.attr("transform","translate("+v.left+","+v.top+")"),ea.select(".nv-context").style("display",D?"initial":"none"),l.width(W).height(Y).color(u.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!u[b].disabled&&u[b].bar})),j.width(W).height(Y).color(u.map(function(a,b){return a.color||B(a,b)}).filter(function(a,b){return!u[b].disabled&&!u[b].bar}));var ja=ea.select(".nv-context .nv-barsWrap").datum($.length?$:[{values:[]}]),ka=ea.select(".nv-context .nv-linesWrap").datum(U(_)?[{values:[]}]:_.filter(function(a){return!a.disabled}));ea.select(".nv-context").attr("transform","translate(0,"+(X+v.bottom+w.top)+")"),ja.transition().call(l),ka.transition().call(j),F&&(n._ticks(nv.utils.calcTicksX(W/100,u)).tickSize(-Y,0),ea.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),ea.select(".nv-context .nv-x.nv-axis").transition().call(n)),E&&(q.scale(g)._ticks(Y/36).tickSize(-W,0),r.scale(h)._ticks(Y/36).tickSize($.length?0:-W,0),ea.select(".nv-context .nv-y3.nv-axis").style("opacity",$.length?1:0).attr("transform","translate(0,"+d.range()[0]+")"),ea.select(".nv-context .nv-y2.nv-axis").style("opacity",_.length?1:0).attr("transform","translate("+d.range()[1]+",0)"),ea.select(".nv-context .nv-y1.nv-axis").transition().call(q),ea.select(".nv-context .nv-y2.nv-axis").transition().call(r)),t.x(d).on("brush",R),H&&t.extent(H);var la=ea.select(".nv-brushBackground").selectAll("g").data([H||t.extent()]),ma=la.enter().append("g");ma.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Y),ma.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Y);var na=ea.select(".nv-x.nv-brush").call(t);na.selectAll("rect").attr("height",Y),na.selectAll(".resize").append("path").attr("d",I),s.dispatch.on("stateChange",function(b){for(var c in b)L[c]=b[c];J.stateChange(L),a.update()}),J.on("changeState",function(b){"undefined"!=typeof b.disabled&&(u.forEach(function(a,c){a.disabled=b.disabled[c]}),L.disabled=b.disabled),a.update()}),R()}),a}var b,c,d,e,f,g,h,i=nv.models.line(),j=nv.models.line(),k=nv.models.historicalBar(),l=nv.models.historicalBar(),m=nv.models.axis(),n=nv.models.axis(),o=nv.models.axis(),p=nv.models.axis(),q=nv.models.axis(),r=nv.models.axis(),s=nv.models.legend(),t=d3.svg.brush(),u=nv.models.tooltip(),v={top:30,right:30,bottom:30,left:60},w={top:0,right:30,bottom:20,left:60},x=null,y=null,z=function(a){return a.x},A=function(a){return a.y},B=nv.utils.defaultColor(),C=!0,D=!0,E=!1,F=!0,G=50,H=null,I=null,J=d3.dispatch("brush","stateChange","changeState"),K=0,L=nv.utils.state(),M=null,N=" (left axis)",O=" (right axis)",P=!1;i.clipEdge(!0),j.interactive(!1),j.pointActive(function(a){return!1}),m.orient("bottom").tickPadding(5),o.orient("left"),p.orient("right"),n.orient("bottom").tickPadding(5),q.orient("left"),r.orient("right"),u.headerEnabled(!0).headerFormatter(function(a,b){return m.tickFormat()(a,b)});var Q=function(){return P?{main:o,focus:q}:{main:p,focus:r}},R=function(){return P?{main:p,focus:r}:{main:o,focus:q}},S=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},T=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},U=function(a){return a.every(function(a){return a.disabled})};return i.dispatch.on("elementMouseover.tooltip",function(a){u.duration(100).valueFormatter(function(a,b){return R().main.tickFormat()(a,b)}).data(a).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(a){u.hidden(!0)}),k.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data),b.series={value:a.y()(b.data),color:b.color},u.duration(0).valueFormatter(function(a,b){return Q().main.tickFormat()(a,b)}).data(b).hidden(!1)}),k.dispatch.on("elementMouseout.tooltip",function(a){u.hidden(!0)}),k.dispatch.on("elementMousemove.tooltip",function(a){u()}),a.dispatch=J,a.legend=s,a.lines=i,a.lines2=j,a.bars=k,a.bars2=l,a.xAxis=m,a.x2Axis=n,a.y1Axis=o,a.y2Axis=p,a.y3Axis=q,a.y4Axis=r,a.tooltip=u,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return x},set:function(a){x=a}},height:{get:function(){return y},set:function(a){y=a}},showLegend:{get:function(){return C},set:function(a){C=a}},brushExtent:{get:function(){return H},set:function(a){H=a}},noData:{get:function(){return I},set:function(a){I=a}},focusEnable:{get:function(){return D},set:function(a){D=a}},focusHeight:{get:function(){return G},set:function(a){G=a}},focusShowAxisX:{get:function(){return F},set:function(a){F=a}},focusShowAxisY:{get:function(){return E},set:function(a){E=a}},legendLeftAxisHint:{get:function(){return N},set:function(a){N=a}},legendRightAxisHint:{get:function(){return O},set:function(a){O=a}},margin:{get:function(){return v},set:function(a){v.top=void 0!==a.top?a.top:v.top,v.right=void 0!==a.right?a.right:v.right,v.bottom=void 0!==a.bottom?a.bottom:v.bottom,v.left=void 0!==a.left?a.left:v.left}},focusMargin:{get:function(){return w},set:function(a){w.top=void 0!==a.top?a.top:w.top,w.right=void 0!==a.right?a.right:w.right,w.bottom=void 0!==a.bottom?a.bottom:w.bottom,w.left=void 0!==a.left?a.left:w.left}},duration:{get:function(){return K},set:function(a){K=a}},color:{get:function(){return B},set:function(a){B=nv.utils.getColor(a),s.color(B)}},x:{get:function(){return z},set:function(a){z=a,i.x(a),j.x(a),k.x(a),l.x(a)}},y:{get:function(){return A},set:function(a){A=a,i.y(a),j.y(a),k.y(a),l.y(a)}},switchYAxisOrder:{get:function(){return P},set:function(a){if(P!==a){var b=o.tickFormat();o.tickFormat(p.tickFormat()),p.tickFormat(b)}P=a}}}),nv.utils.inheritOptions(a,i),nv.utils.initOptions(a),a},nv.models.multiBar=function(){"use strict";function a(D){return B.reset(),D.each(function(a){var D=j-i.left-i.right,E=k-i.top-i.bottom;o=d3.select(this),nv.utils.initSVG(o);var F=0;if(w&&a.length&&(w=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]),t){var G=d3.layout.stack().offset(u).values(function(a){return a.values}).y(q)(!a.length&&w?w:a);G.forEach(function(b,c){b.nonStackable?(a[c].nonStackableSeries=F++,G[c]=a[c]):c>0&&G[c-1].nonStackable&&G[c].values.map(function(a,b){a.y0-=G[c-1].values[b].y,a.y1=a.y0+a.y})}),a=G}a.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),t&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(b,f){if(!a[f].nonStackable){var g=b.values[c];g.size=Math.abs(g.y),g.y<0?(g.y1=e,e-=g.size):(g.y1=g.size+d,d+=g.size)}})});var H=c&&d?[]:a.map(function(a,b){return a.values.map(function(a,c){return{x:p(a,c),y:q(a,c),y0:a.y0,y1:a.y1,idx:b}})});l.domain(c||d3.merge(H).map(function(a){return a.x})).rangeBands(e||[0,D],z),m.domain(d||d3.extent(d3.merge(H).map(function(b){var c=b.y;return t&&!a[b.idx].nonStackable&&(c=b.y>0?b.y1:b.y1+b.y),c}).concat(r))).range(f||[E,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1])),g=g||l,h=h||m;var I=o.selectAll("g.nv-wrap.nv-multibar").data([a]),J=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),K=J.append("defs"),L=J.append("g"),M=I.select("g");L.append("g").attr("class","nv-groups"),I.attr("transform","translate("+i.left+","+i.top+")"),K.append("clipPath").attr("id","nv-edge-clip-"+n).append("rect"),I.select("#nv-edge-clip-"+n+" rect").attr("width",D).attr("height",E),M.attr("clip-path",s?"url(#nv-edge-clip-"+n+")":"");var N=I.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});N.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var O=B.transition(N.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,y)).attr("y",function(b,c,d){var e=h(0)||0;return t&&a[b.series]&&!a[b.series].nonStackable&&(e=h(b.y0)),e}).attr("height",0).remove();O.delay&&O.delay(function(a,b){var c=b*(y/(C+1))-b;return c}),N.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return v(a,b)}).style("stroke",function(a,b){return v(a,b)}),N.style("stroke-opacity",1).style("fill-opacity",.75);var P=N.selectAll("rect.nv-bar").data(function(b){return w&&!a.length?w.values:b.values});P.exit().remove();P.enter().append("rect").attr("class",function(a,b){return q(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,d){return t&&!a[d].nonStackable?0:d*l.rangeBand()/a.length}).attr("y",function(b,c,d){return h(t&&!a[d].nonStackable?b.y0:0)||0}).attr("height",0).attr("width",function(b,c,d){return l.rangeBand()/(t&&!a[d].nonStackable?1:a.length)}).attr("transform",function(a,b){return"translate("+l(p(a,b))+",0)"});P.style("fill",function(a,b,c){return v(a,c,b)}).style("stroke",function(a,b,c){return v(a,c,b)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),A.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),A.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){A.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){var c=this;A.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}).on("dblclick",function(a,b){A.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),P.attr("class",function(a,b){return q(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+l(p(a,b))+",0)"}),x&&(b||(b=a.map(function(){return!0})),P.style("fill",function(a,c,d){return d3.rgb(x(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()}).style("stroke",function(a,c,d){return d3.rgb(x(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()}));var Q=P.watchTransition(B,"multibar",Math.min(250,y)).delay(function(b,c){return c*y/a[0].values.length});t?Q.attr("y",function(b,c,d){var e=0;return e=a[d].nonStackable?q(b,c)<0?m(0):m(0)-m(q(b,c))<-1?m(0)-1:m(q(b,c))||0:m(b.y1)}).attr("height",function(b,c,d){return a[d].nonStackable?Math.max(Math.abs(m(q(b,c))-m(0)),0)||0:Math.max(Math.abs(m(b.y+b.y0)-m(b.y0)),0)}).attr("x",function(b,c,d){var e=0;return a[d].nonStackable&&(e=b.series*l.rangeBand()/a.length,a.length!==F&&(e=a[d].nonStackableSeries*l.rangeBand()/(2*F))),e}).attr("width",function(b,c,d){if(a[d].nonStackable){var e=l.rangeBand()/F;return a.length!==F&&(e=l.rangeBand()/(2*F)),e}return l.rangeBand()}):Q.attr("x",function(b,c){return b.series*l.rangeBand()/a.length}).attr("width",l.rangeBand()/a.length).attr("y",function(a,b){return q(a,b)<0?m(0):m(0)-m(q(a,b))<1?m(0)-1:m(q(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(m(q(a,b))-m(0)),1)||0}),g=l.copy(),h=m.copy(),a[0]&&a[0].values&&(C=a[0].values.length)}),B.renderEnd("multibar immediate"),a}var b,c,d,e,f,g,h,i={top:0,right:0,bottom:0,left:0},j=960,k=500,l=d3.scale.ordinal(),m=d3.scale.linear(),n=Math.floor(1e4*Math.random()),o=null,p=function(a){return a.x},q=function(a){return a.y},r=[0],s=!0,t=!1,u="zero",v=nv.utils.defaultColor(),w=!1,x=null,y=500,z=.1,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),B=nv.utils.renderWatch(A,y),C=0;return a.dispatch=A,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return p},set:function(a){p=a}},y:{get:function(){return q},set:function(a){q=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},forceY:{get:function(){return r},set:function(a){r=a}},stacked:{get:function(){return t},set:function(a){t=a}},stackOffset:{get:function(){return u},set:function(a){u=a}},clipEdge:{get:function(){return s},set:function(a){s=a}},disabled:{get:function(){return b},set:function(a){b=a}},id:{get:function(){return n},set:function(a){n=a}},hideable:{get:function(){return w},set:function(a){w=a}},groupSpacing:{get:function(){return z},set:function(a){z=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},duration:{get:function(){return y},set:function(a){y=a,B.reset(y)}},color:{get:function(){return v},set:function(a){v=nv.utils.getColor(a)}},barColor:{get:function(){return x},set:function(a){x=a?nv.utils.getColor(a):null}}}),nv.utils.initOptions(a),a},nv.models.multiBarChart=function(){"use strict";function a(A){return F.reset(),F.models(d),r&&F.models(e),s&&F.models(f),A.each(function(A){var F=d3.select(this),J=this;nv.utils.initSVG(F);var K=nv.utils.availableWidth(l,F,k),L=nv.utils.availableHeight(m,F,k);if(a.update=function(){0===D?F.call(a):F.transition().duration(D).call(a)},a.container=this,y.setter(I(A),a.update).getter(H(A)).update(),y.disabled=A.map(function(a){return!!a.disabled}),!z){var M;z={};for(M in y)y[M]instanceof Array?z[M]=y[M].slice(0):z[M]=y[M]}if(!(A&&A.length&&A.filter(function(a){return a.values.length}).length))return nv.utils.noData(a,F),a;F.selectAll(".nv-noData").remove(),b=d.xScale(),c=d.yScale();var N=F.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([A]),O=N.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),P=N.select("g");if(O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-controlsWrap"),O.append("g").attr("class","nv-interactive"),q&&(h.width(K-C()),P.select(".nv-legendWrap").datum(A).call(h),k.top!=h.height()&&(k.top=h.height(),L=nv.utils.availableHeight(m,F,k)),P.select(".nv-legendWrap").attr("transform","translate("+C()+","+-k.top+")")),o){var Q=[{key:p.grouped||"Grouped",disabled:d.stacked()},{key:p.stacked||"Stacked",disabled:!d.stacked()}];i.width(C()).color(["#444","#444","#444"]),P.select(".nv-controlsWrap").datum(Q).attr("transform","translate(0,"+-k.top+")").call(i)}N.attr("transform","translate("+k.left+","+k.top+")"),t&&P.select(".nv-y.nv-axis").attr("transform","translate("+K+",0)"),d.disabled(A.map(function(a){return a.disabled})).width(K).height(L).color(A.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!A[b].disabled}));var R=P.select(".nv-barsWrap").datum(A.filter(function(a){return!a.disabled}));if(R.call(d),r){e.scale(b)._ticks(nv.utils.calcTicksX(K/100,A)).tickSize(-L,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+c.range()[0]+")"),P.select(".nv-x.nv-axis").call(e);var S=P.select(".nv-x.nv-axis > g").selectAll("g");if(S.selectAll("line, text").style("opacity",1),v){var T=function(a,b){return"translate("+a+","+b+")"},U=5,V=17;S.selectAll("text").attr("transform",function(a,b,c){return T(0,c%2==0?U:V)});var W=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;P.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return T(0,0===b||W%2!==0?V:U)})}w&&P.selectAll(".tick text").call(nv.utils.wrapTicks,a.xAxis.rangeBand()),u&&S.filter(function(a,b){return b%Math.ceil(A[0].values.length/(K/100))!==0}).selectAll("text, line").style("opacity",0),x&&S.selectAll(".tick text").attr("transform","rotate("+x+" 0,0)").style("text-anchor",x>0?"start":"end"),P.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}s&&(f.scale(c)._ticks(nv.utils.calcTicksY(L/36,A)).tickSize(-K,0),P.select(".nv-y.nv-axis").call(f)),E&&(g.width(K).height(L).margin({left:k.left,top:k.top}).svgContainer(F).xScale(b),N.select(".nv-interactive").call(g)),h.dispatch.on("stateChange",function(b){for(var c in b)y[c]=b[c];B.stateChange(y),a.update()}),i.dispatch.on("legendClick",function(b,c){if(b.disabled){switch(Q=Q.map(function(a){return a.disabled=!0,a}),b.disabled=!1,b.key){case"Grouped":case p.grouped:d.stacked(!1);break;case"Stacked":case p.stacked:d.stacked(!0)}y.stacked=d.stacked(),B.stateChange(y),a.update()}}),B.on("changeState",function(b){"undefined"!=typeof b.disabled&&(A.forEach(function(a,c){a.disabled=b.disabled[c]}),y.disabled=b.disabled),"undefined"!=typeof b.stacked&&(d.stacked(b.stacked),y.stacked=b.stacked,G=b.stacked),a.update()}),E?(g.dispatch.on("elementMousemove",function(c){
if(void 0!=c.pointXValue){var d,e,f,h,i=[];A.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(g,j){e=b.domain().indexOf(c.pointXValue);var k=g.values[e];void 0!==k&&(h=k.x,void 0===d&&(d=k),void 0===f&&(f=c.mouseX),i.push({key:g.key,value:a.y()(k,e),color:n(g,g.seriesIndex),data:g.values[e]}))}),g.tooltip.chartContainer(J.parentNode).data({value:h,index:e,series:i})(),g.renderGuideLine(f)}}),g.dispatch.on("elementMouseout",function(a){g.tooltip.hidden(!0)})):(d.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data),b.series={key:b.data.key,value:a.y()(b.data),color:b.color},j.data(b).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(a){j()}))}),F.renderEnd("multibarchart immediate"),a}var b,c,d=nv.models.multiBar(),e=nv.models.axis(),f=nv.models.axis(),g=nv.interactiveGuideline(),h=nv.models.legend(),i=nv.models.legend(),j=nv.models.tooltip(),k={top:30,right:20,bottom:50,left:60},l=null,m=null,n=nv.utils.defaultColor(),o=!0,p={},q=!0,r=!0,s=!0,t=!1,u=!0,v=!1,w=!1,x=0,y=nv.utils.state(),z=null,A=null,B=d3.dispatch("stateChange","changeState","renderEnd"),C=function(){return o?180:0},D=250,E=!1;y.stacked=!1,d.stacked(!1),e.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a){return a}),f.orient(t?"right":"left").tickFormat(d3.format(",.1f")),j.duration(0).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,b)}),i.updateState(!1);var F=nv.utils.renderWatch(B),G=!1,H=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:G}}},I=function(a){return function(b){void 0!==b.stacked&&(G=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return a.dispatch=B,a.multibar=d,a.legend=h,a.controls=i,a.xAxis=e,a.yAxis=f,a.state=y,a.tooltip=j,a.interactiveLayer=g,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showControls:{get:function(){return o},set:function(a){o=a}},controlLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return s},set:function(a){s=a}},defaultState:{get:function(){return z},set:function(a){z=a}},noData:{get:function(){return A},set:function(a){A=a}},reduceXTicks:{get:function(){return u},set:function(a){u=a}},rotateLabels:{get:function(){return x},set:function(a){x=a}},staggerLabels:{get:function(){return v},set:function(a){v=a}},wrapLabels:{get:function(){return w},set:function(a){w=!!a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return D},set:function(a){D=a,d.duration(D),e.duration(D),f.duration(D),F.reset(D)}},color:{get:function(){return n},set:function(a){n=nv.utils.getColor(a),h.color(n)}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a,f.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return E},set:function(a){E=a}},barColor:{get:function(){return d.barColor},set:function(a){d.barColor(a),h.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}}),nv.utils.inheritOptions(a,d),nv.utils.initOptions(a),a},nv.models.multiBarHorizontal=function(){"use strict";function a(l){return D.reset(),l.each(function(a){var l=j-i.left-i.right,B=k-i.top-i.bottom;m=d3.select(this),nv.utils.initSVG(m),v&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(q)(a)),a.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),v&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){var b=a.values[c];b.size=Math.abs(b.y),b.y<0?(b.y1=e-b.size,e-=b.size):(b.y1=d,d+=b.size)})});var E=c&&d?[]:a.map(function(a){return a.values.map(function(a,b){return{x:p(a,b),y:q(a,b),y0:a.y0,y1:a.y1}})});n.domain(c||d3.merge(E).map(function(a){return a.x})).rangeBands(e||[0,B],z),o.domain(d||d3.extent(d3.merge(E).map(function(a){return v?a.y>0?a.y1+a.y:a.y1:a.y}).concat(s))),w&&!v?o.range(f||[o.domain()[0]<0?y:0,l-(o.domain()[1]>0?y:0)]):o.range(f||[0,l]),g=g||n,h=h||d3.scale.linear().domain(o.domain()).range([o(0),o(0)]);var F=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]),G=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),H=(G.append("defs"),G.append("g"));F.select("g");H.append("g").attr("class","nv-groups"),F.attr("transform","translate("+i.left+","+i.top+")");var I=F.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),I.exit().watchTransition(D,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),I.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return t(a,b)}).style("stroke",function(a,b){return t(a,b)}),I.watchTransition(D,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var J=I.selectAll("g.nv-bar").data(function(a){return a.values});J.exit().remove();var K=J.enter().append("g").attr("transform",function(b,c,d){return"translate("+h(v?b.y0:0)+","+(v?0:d*n.rangeBand()/a.length+n(p(b,c)))+")"});K.append("rect").attr("width",0).attr("height",n.rangeBand()/(v?1:a.length)),J.on("mouseover",function(a,b){d3.select(this).classed("hover",!0),C.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),C.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){C.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){C.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){C.elementClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(a,b){C.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),r(a[0],0)&&(K.append("polyline"),J.select("polyline").attr("fill","none").attr("points",function(b,c){var d=r(b,c),e=.8*n.rangeBand()/(2*(v?1:a.length));d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return o(a)-o(0)});var f=[[d[0],-e],[d[0],e],[d[0],0],[d[1],0],[d[1],-e],[d[1],e]];return f.map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var d=n.rangeBand()/(2*(v?1:a.length));return"translate("+(q(b,c)<0?0:o(q(b,c))-o(0))+", "+d+")"})),K.append("text"),w&&!v?(J.select("text").attr("text-anchor",function(a,b){return q(a,b)<0?"end":"start"}).attr("y",n.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){var c=A(q(a,b)),d=r(a,b);return void 0===d?c:d.length?c+"+"+A(Math.abs(d[1]))+"-"+A(Math.abs(d[0])):c+""+A(Math.abs(d))}),J.watchTransition(D,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return q(a,b)<0?-4:o(q(a,b))-o(0)+4})):J.selectAll("text").text(""),x&&!v?(K.append("text").classed("nv-bar-label",!0),J.select("text.nv-bar-label").attr("text-anchor",function(a,b){return q(a,b)<0?"start":"end"}).attr("y",n.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return p(a,b)}),J.watchTransition(D,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return q(a,b)<0?o(0)-o(q(a,b))+4:-4})):J.selectAll("text.nv-bar-label").text(""),J.attr("class",function(a,b){return q(a,b)<0?"nv-bar negative":"nv-bar positive"}),u&&(b||(b=a.map(function(){return!0})),J.style("fill",function(a,c,d){return d3.rgb(u(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()}).style("stroke",function(a,c,d){return d3.rgb(u(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()})),v?J.watchTransition(D,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+o(a.y1)+","+n(p(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(o(q(a,b)+a.y0)-o(a.y0))||0}).attr("height",n.rangeBand()):J.watchTransition(D,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+o(q(b,c)<0?q(b,c):0)+","+(b.series*n.rangeBand()/a.length+n(p(b,c)))+")"}).select("rect").attr("height",n.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(o(q(a,b))-o(0)),1)||0}),g=n.copy(),h=o.copy()}),D.renderEnd("multibarHorizontal immediate"),a}var b,c,d,e,f,g,h,i={top:0,right:0,bottom:0,left:0},j=960,k=500,l=Math.floor(1e4*Math.random()),m=null,n=d3.scale.ordinal(),o=d3.scale.linear(),p=function(a){return a.x},q=function(a){return a.y},r=function(a){return a.yErr},s=[0],t=nv.utils.defaultColor(),u=null,v=!1,w=!1,x=!1,y=60,z=.1,A=d3.format(",.2f"),B=250,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=nv.utils.renderWatch(C,B);return a.dispatch=C,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return p},set:function(a){p=a}},y:{get:function(){return q},set:function(a){q=a}},yErr:{get:function(){return r},set:function(a){r=a}},xScale:{get:function(){return n},set:function(a){n=a}},yScale:{get:function(){return o},set:function(a){o=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},forceY:{get:function(){return s},set:function(a){s=a}},stacked:{get:function(){return v},set:function(a){v=a}},showValues:{get:function(){return w},set:function(a){w=a}},disabled:{get:function(){return b},set:function(a){b=a}},id:{get:function(){return l},set:function(a){l=a}},valueFormat:{get:function(){return A},set:function(a){A=a}},valuePadding:{get:function(){return y},set:function(a){y=a}},groupSpacing:{get:function(){return z},set:function(a){z=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},duration:{get:function(){return B},set:function(a){B=a,D.reset(B)}},color:{get:function(){return t},set:function(a){t=nv.utils.getColor(a)}},barColor:{get:function(){return u},set:function(a){u=a?nv.utils.getColor(a):null}}}),nv.utils.initOptions(a),a},nv.models.multiBarHorizontalChart=function(){"use strict";function a(i){return B.reset(),B.models(d),q&&B.models(e),r&&B.models(f),i.each(function(i){var v=d3.select(this);nv.utils.initSVG(v);var B=nv.utils.availableWidth(k,v,j),C=nv.utils.availableHeight(l,v,j);if(a.update=function(){v.transition().duration(y).call(a)},a.container=this,s=d.stacked(),t.setter(A(i),a.update).getter(z(i)).update(),t.disabled=i.map(function(a){return!!a.disabled}),!u){var D;u={};for(D in t)t[D]instanceof Array?u[D]=t[D].slice(0):u[D]=t[D]}if(!(i&&i.length&&i.filter(function(a){return a.values.length}).length))return nv.utils.noData(a,v),a;v.selectAll(".nv-noData").remove(),b=d.xScale(),c=d.yScale();var E=v.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([i]),F=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),G=E.select("g");if(F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-controlsWrap"),p&&(g.width(B-x()),G.select(".nv-legendWrap").datum(i).call(g),j.top!=g.height()&&(j.top=g.height(),C=nv.utils.availableHeight(l,v,j)),G.select(".nv-legendWrap").attr("transform","translate("+x()+","+-j.top+")")),n){var H=[{key:o.grouped||"Grouped",disabled:d.stacked()},{key:o.stacked||"Stacked",disabled:!d.stacked()}];h.width(x()).color(["#444","#444","#444"]),G.select(".nv-controlsWrap").datum(H).attr("transform","translate(0,"+-j.top+")").call(h)}E.attr("transform","translate("+j.left+","+j.top+")"),d.disabled(i.map(function(a){return a.disabled})).width(B).height(C).color(i.map(function(a,b){return a.color||m(a,b)}).filter(function(a,b){return!i[b].disabled}));var I=G.select(".nv-barsWrap").datum(i.filter(function(a){return!a.disabled}));if(I.transition().call(d),q){e.scale(b)._ticks(nv.utils.calcTicksY(C/24,i)).tickSize(-B,0),G.select(".nv-x.nv-axis").call(e);var J=G.select(".nv-x.nv-axis").selectAll("g");J.selectAll("line, text")}r&&(f.scale(c)._ticks(nv.utils.calcTicksX(B/100,i)).tickSize(-C,0),G.select(".nv-y.nv-axis").attr("transform","translate(0,"+C+")"),G.select(".nv-y.nv-axis").call(f)),G.select(".nv-zeroLine line").attr("x1",c(0)).attr("x2",c(0)).attr("y1",0).attr("y2",-C),g.dispatch.on("stateChange",function(b){for(var c in b)t[c]=b[c];w.stateChange(t),a.update()}),h.dispatch.on("legendClick",function(b,c){if(b.disabled){switch(H=H.map(function(a){return a.disabled=!0,a}),b.disabled=!1,b.key){case"Grouped":d.stacked(!1);break;case"Stacked":d.stacked(!0)}t.stacked=d.stacked(),w.stateChange(t),s=d.stacked(),a.update()}}),w.on("changeState",function(b){"undefined"!=typeof b.disabled&&(i.forEach(function(a,c){a.disabled=b.disabled[c]}),t.disabled=b.disabled),"undefined"!=typeof b.stacked&&(d.stacked(b.stacked),t.stacked=b.stacked,s=b.stacked),a.update()})}),B.renderEnd("multibar horizontal chart immediate"),a}var b,c,d=nv.models.multiBarHorizontal(),e=nv.models.axis(),f=nv.models.axis(),g=nv.models.legend().height(30),h=nv.models.legend().height(30),i=nv.models.tooltip(),j={top:30,right:20,bottom:50,left:60},k=null,l=null,m=nv.utils.defaultColor(),n=!0,o={},p=!0,q=!0,r=!0,s=!1,t=nv.utils.state(),u=null,v=null,w=d3.dispatch("stateChange","changeState","renderEnd"),x=function(){return n?180:0},y=250;t.stacked=!1,d.stacked(s),e.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a}),f.orient("bottom").tickFormat(d3.format(",.1f")),i.duration(0).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,b)}),h.updateState(!1);var z=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:s}}},A=function(a){return function(b){void 0!==b.stacked&&(s=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},B=nv.utils.renderWatch(w,y);return d.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data),b.series={key:b.data.key,value:a.y()(b.data),color:b.color},i.data(b).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){i.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(a){i()}),a.dispatch=w,a.multibar=d,a.legend=g,a.controls=h,a.xAxis=e,a.yAxis=f,a.state=t,a.tooltip=i,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},showLegend:{get:function(){return p},set:function(a){p=a}},showControls:{get:function(){return n},set:function(a){n=a}},controlLabels:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return q},set:function(a){q=a}},showYAxis:{get:function(){return r},set:function(a){r=a}},defaultState:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return y},set:function(a){y=a,B.reset(y),d.duration(y),e.duration(y),f.duration(y)}},color:{get:function(){return m},set:function(a){m=nv.utils.getColor(a),g.color(m)}},barColor:{get:function(){return d.barColor},set:function(a){d.barColor(a),g.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}}),nv.utils.inheritOptions(a,d),nv.utils.initOptions(a),a},nv.models.multiChart=function(){"use strict";function a(i){return i.each(function(i){function m(a){var b=2===i[a.seriesIndex].yAxis?D:C;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},F.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function G(a){var b=2===i[a.seriesIndex].yAxis?D:C;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},F.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function I(a){var b=2===i[a.seriesIndex].yAxis?D:C;a.point.x=z.x()(a.point),a.point.y=z.y()(a.point),F.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function J(a){var b=2===i[a.data.series].yAxis?D:C;a.value=x.x()(a.data),a.series={value:x.y()(a.data),color:a.color,key:a.data.key},F.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function K(){for(var a=0,b=H.length;b>a;a++){var c=H[a];try{c.clearHighlights()}catch(d){}}}function L(a,b,c){for(var d=0,e=H.length;e>d;d++){var f=H[d];try{f.highlightPoint(a,b,c)}catch(g){}}}var M=d3.select(this);nv.utils.initSVG(M),a.update=function(){M.transition().call(a)},a.container=this;var N=nv.utils.availableWidth(f,M,d),O=nv.utils.availableHeight(g,M,d),P=i.filter(function(a){return"line"==a.type&&1==a.yAxis}),Q=i.filter(function(a){return"line"==a.type&&2==a.yAxis}),R=i.filter(function(a){return"scatter"==a.type&&1==a.yAxis}),S=i.filter(function(a){return"scatter"==a.type&&2==a.yAxis}),T=i.filter(function(a){return"bar"==a.type&&1==a.yAxis}),U=i.filter(function(a){return"bar"==a.type&&2==a.yAxis}),V=i.filter(function(a){return"area"==a.type&&1==a.yAxis}),W=i.filter(function(a){return"area"==a.type&&2==a.yAxis});if(!(i&&i.length&&i.filter(function(a){return a.values.length}).length))return nv.utils.noData(a,M),a;M.selectAll(".nv-noData").remove();var X=i.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:j(a),y:k(a)}})}),Y=i.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:j(a),y:k(a)}})});q.domain(d3.extent(d3.merge(X.concat(Y)),function(a){return j(a)})).range([0,N]);var Z=M.selectAll("g.wrap.multiChart").data([i]),$=Z.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y1 nv-axis"),$.append("g").attr("class","nv-y2 nv-axis"),$.append("g").attr("class","stack1Wrap"),$.append("g").attr("class","stack2Wrap"),$.append("g").attr("class","bars1Wrap"),$.append("g").attr("class","bars2Wrap"),$.append("g").attr("class","scatters1Wrap"),$.append("g").attr("class","scatters2Wrap"),$.append("g").attr("class","lines1Wrap"),$.append("g").attr("class","lines2Wrap"),$.append("g").attr("class","legendWrap"),$.append("g").attr("class","nv-interactive");var _=Z.select("g"),aa=i.map(function(a,b){return i[b].color||e(a,b)});if(h){var ba=E.align()?N/2:N,ca=E.align()?ba:0;E.width(ba),E.color(aa),_.select(".legendWrap").datum(i.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=a.originalKey+(1==a.yAxis?"":p),a})).call(E),d.top!=E.height()&&(d.top=E.height(),O=nv.utils.availableHeight(g,M,d)),_.select(".legendWrap").attr("transform","translate("+ca+","+-d.top+")")}t.width(N).height(O).interpolate(l).color(aa.filter(function(a,b){return!i[b].disabled&&1==i[b].yAxis&&"line"==i[b].type})),u.width(N).height(O).interpolate(l).color(aa.filter(function(a,b){return!i[b].disabled&&2==i[b].yAxis&&"line"==i[b].type})),v.width(N).height(O).color(aa.filter(function(a,b){return!i[b].disabled&&1==i[b].yAxis&&"scatter"==i[b].type})),w.width(N).height(O).color(aa.filter(function(a,b){return!i[b].disabled&&2==i[b].yAxis&&"scatter"==i[b].type})),x.width(N).height(O).color(aa.filter(function(a,b){return!i[b].disabled&&1==i[b].yAxis&&"bar"==i[b].type})),y.width(N).height(O).color(aa.filter(function(a,b){return!i[b].disabled&&2==i[b].yAxis&&"bar"==i[b].type})),z.width(N).height(O).color(aa.filter(function(a,b){return!i[b].disabled&&1==i[b].yAxis&&"area"==i[b].type})),A.width(N).height(O).color(aa.filter(function(a,b){return!i[b].disabled&&2==i[b].yAxis&&"area"==i[b].type})),_.attr("transform","translate("+d.left+","+d.top+")");var da=_.select(".lines1Wrap").datum(P.filter(function(a){return!a.disabled})),ea=_.select(".scatters1Wrap").datum(R.filter(function(a){return!a.disabled})),fa=_.select(".bars1Wrap").datum(T.filter(function(a){return!a.disabled})),ga=_.select(".stack1Wrap").datum(V.filter(function(a){return!a.disabled})),ha=_.select(".lines2Wrap").datum(Q.filter(function(a){return!a.disabled})),ia=_.select(".scatters2Wrap").datum(S.filter(function(a){return!a.disabled})),ja=_.select(".bars2Wrap").datum(U.filter(function(a){return!a.disabled})),ka=_.select(".stack2Wrap").datum(W.filter(function(a){return!a.disabled})),la=V.length?V.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],ma=W.length?W.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];r.domain(b||d3.extent(d3.merge(X).concat(la),function(a){return a.y})).range([0,O]),s.domain(c||d3.extent(d3.merge(Y).concat(ma),function(a){return a.y})).range([0,O]),t.yDomain(r.domain()),v.yDomain(r.domain()),x.yDomain(r.domain()),z.yDomain(r.domain()),u.yDomain(s.domain()),w.yDomain(s.domain()),y.yDomain(s.domain()),A.yDomain(s.domain()),V.length&&d3.transition(ga).call(z),W.length&&d3.transition(ka).call(A),T.length&&d3.transition(fa).call(x),U.length&&d3.transition(ja).call(y),P.length&&d3.transition(da).call(t),Q.length&&d3.transition(ha).call(u),R.length&&d3.transition(ea).call(v),S.length&&d3.transition(ia).call(w),B._ticks(nv.utils.calcTicksX(N/100,i)).tickSize(-O,0),_.select(".nv-x.nv-axis").attr("transform","translate(0,"+O+")"),d3.transition(_.select(".nv-x.nv-axis")).call(B),C._ticks(nv.utils.calcTicksY(O/36,i)).tickSize(-N,0),d3.transition(_.select(".nv-y1.nv-axis")).call(C),D._ticks(nv.utils.calcTicksY(O/36,i)).tickSize(-N,0),d3.transition(_.select(".nv-y2.nv-axis")).call(D),_.select(".nv-y1.nv-axis").classed("nv-disabled",X.length?!1:!0).attr("transform","translate("+q.range()[0]+",0)"),_.select(".nv-y2.nv-axis").classed("nv-disabled",Y.length?!1:!0).attr("transform","translate("+q.range()[1]+",0)"),E.dispatch.on("stateChange",function(b){a.update()}),o&&(n.width(N).height(O).margin({left:d.left,top:d.top}).svgContainer(M).xScale(q),Z.select(".nv-interactive").call(n)),o?(n.dispatch.on("elementMousemove",function(b){K();var c,d,f,g=[];i.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(h,i){var j=q.domain(),k=h.values.filter(function(b,c){return a.x()(b,c)>=j[0]&&a.x()(b,c)<=j[1]});d=nv.interactiveBisect(k,b.pointXValue,a.x());var l=k[d],m=a.y()(l,d);null!==m&&L(i,d,!0),void 0!==l&&(void 0===c&&(c=l),void 0===f&&(f=q(a.x()(l,d))),g.push({key:h.key,value:m,color:e(h,h.seriesIndex),data:l,yAxis:2==h.yAxis?D:C}))}),n.tooltip.chartContainer(a.container.parentNode).valueFormatter(function(a,b){var c=g[b].yAxis;return null===a?"N/A":c.tickFormat()(a)}).data({value:a.x()(c,d),index:d,series:g})(),n.renderGuideLine(f)}),n.dispatch.on("elementMouseout",function(a){K()})):(t.dispatch.on("elementMouseover.tooltip",m),u.dispatch.on("elementMouseover.tooltip",m),t.dispatch.on("elementMouseout.tooltip",function(a){F.hidden(!0)}),u.dispatch.on("elementMouseout.tooltip",function(a){F.hidden(!0)}),v.dispatch.on("elementMouseover.tooltip",G),w.dispatch.on("elementMouseover.tooltip",G),v.dispatch.on("elementMouseout.tooltip",function(a){F.hidden(!0)}),w.dispatch.on("elementMouseout.tooltip",function(a){F.hidden(!0)}),z.dispatch.on("elementMouseover.tooltip",I),A.dispatch.on("elementMouseover.tooltip",I),z.dispatch.on("elementMouseout.tooltip",function(a){F.hidden(!0)}),A.dispatch.on("elementMouseout.tooltip",function(a){F.hidden(!0)}),x.dispatch.on("elementMouseover.tooltip",J),y.dispatch.on("elementMouseover.tooltip",J),x.dispatch.on("elementMouseout.tooltip",function(a){F.hidden(!0)}),y.dispatch.on("elementMouseout.tooltip",function(a){F.hidden(!0)}),x.dispatch.on("elementMousemove.tooltip",function(a){F()}),y.dispatch.on("elementMousemove.tooltip",function(a){F()}))}),a}var b,c,d={top:30,right:20,bottom:50,left:60},e=nv.utils.defaultColor(),f=null,g=null,h=!0,i=null,j=function(a){return a.x},k=function(a){return a.y},l="monotone",m=!0,n=nv.interactiveGuideline(),o=!1,p=" (right axis)",q=d3.scale.linear(),r=d3.scale.linear(),s=d3.scale.linear(),t=nv.models.line().yScale(r),u=nv.models.line().yScale(s),v=nv.models.scatter().yScale(r),w=nv.models.scatter().yScale(s),x=nv.models.multiBar().stacked(!1).yScale(r),y=nv.models.multiBar().stacked(!1).yScale(s),z=nv.models.stackedArea().yScale(r),A=nv.models.stackedArea().yScale(s),B=nv.models.axis().scale(q).orient("bottom").tickPadding(5),C=nv.models.axis().scale(r).orient("left"),D=nv.models.axis().scale(s).orient("right"),E=nv.models.legend().height(30),F=nv.models.tooltip(),G=d3.dispatch(),H=[t,u,v,w,x,y,z,A];return a.dispatch=G,a.legend=E,a.lines1=t,a.lines2=u,a.scatters1=v,a.scatters2=w,a.bars1=x,a.bars2=y,a.stack1=z,a.stack2=A,a.xAxis=B,a.yAxis1=C,a.yAxis2=D,a.tooltip=F,a.interactiveLayer=n,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},showLegend:{get:function(){return h},set:function(a){h=a}},yDomain1:{get:function(){return b},set:function(a){b=a}},yDomain2:{get:function(){return c},set:function(a){c=a}},noData:{get:function(){return i},set:function(a){i=a}},interpolate:{get:function(){return l},set:function(a){l=a}},legendRightAxisHint:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},color:{get:function(){return e},set:function(a){e=nv.utils.getColor(a)}},x:{get:function(){return j},set:function(a){j=a,t.x(a),u.x(a),v.x(a),w.x(a),x.x(a),y.x(a),z.x(a),A.x(a)}},y:{get:function(){return k},set:function(a){k=a,t.y(a),u.y(a),v.y(a),w.y(a),z.y(a),A.y(a),x.y(a),y.y(a)}},useVoronoi:{get:function(){return m},set:function(a){m=a,t.useVoronoi(a),u.useVoronoi(a),z.useVoronoi(a),A.useVoronoi(a)}},useInteractiveGuideline:{get:function(){return o},set:function(a){o=a,o&&(t.interactive(!1),t.useVoronoi(!1),u.interactive(!1),u.useVoronoi(!1),z.interactive(!1),z.useVoronoi(!1),A.interactive(!1),A.useVoronoi(!1),v.interactive(!1),w.interactive(!1))}}}),nv.utils.initOptions(a),a},nv.models.ohlcBar=function(){"use strict";function a(x){return x.each(function(a){j=d3.select(this);var x=nv.utils.availableWidth(g,j,f),z=nv.utils.availableHeight(h,j,f);nv.utils.initSVG(j);var A=x/a[0].values.length*.9;k.domain(b||d3.extent(a[0].values.map(m).concat(s))),u?k.range(d||[.5*x/a[0].values.length,x*(a[0].values.length-.5)/a[0].values.length]):k.range(d||[5+A/2,x-A/2-5]),l.domain(c||[d3.min(a[0].values.map(r).concat(t)),d3.max(a[0].values.map(q).concat(t))]).range(e||[z,0]),k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]-.01*k.domain()[0],k.domain()[1]+.01*k.domain()[1]]):k.domain([-1,1])),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]+.01*l.domain()[0],l.domain()[1]-.01*l.domain()[1]]):l.domain([-1,1]));var B=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),D=C.append("defs"),E=C.append("g"),F=B.select("g");E.append("g").attr("class","nv-ticks"),B.attr("transform","translate("+f.left+","+f.top+")"),j.on("click",function(a,b){y.chartClick({data:a,index:b,pos:d3.event,id:i})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+i).append("rect"),B.select("#nv-chart-clip-path-"+i+" rect").attr("width",x).attr("height",z),F.attr("clip-path",v?"url(#nv-chart-clip-path-"+i+")":"");var G=B.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});G.exit().remove(),G.enter().append("path").attr("class",function(a,b,c){return(o(a,b)>p(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(l(o(a,b))-l(q(a,b)))+"l"+-A/2+",0l"+A/2+",0l0,"+(l(r(a,b))-l(o(a,b)))+"l0,"+(l(p(a,b))-l(r(a,b)))+"l"+A/2+",0l"+-A/2+",0z"}).attr("transform",function(a,b){return"translate("+k(m(a,b))+","+l(q(a,b))+")"}).attr("fill",function(a,b){return w[0]}).attr("stroke",function(a,b){return w[0]}).attr("x",0).attr("y",function(a,b){return l(Math.max(0,n(a,b)))}).attr("height",function(a,b){return Math.abs(l(n(a,b))-l(0))}),G.attr("class",function(a,b,c){return(o(a,b)>p(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}),d3.transition(G).attr("transform",function(a,b){return"translate("+k(m(a,b))+","+l(q(a,b))+")"}).attr("d",function(b,c){var d=x/a[0].values.length*.9;return"m0,0l0,"+(l(o(b,c))-l(q(b,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(l(r(b,c))-l(o(b,c)))+"l0,"+(l(p(b,c))-l(r(b,c)))+"l"+d/2+",0l"+-d/2+",0z"})}),a}var b,c,d,e,f={top:0,right:0,bottom:0,left:0},g=null,h=null,i=Math.floor(1e4*Math.random()),j=null,k=d3.scale.linear(),l=d3.scale.linear(),m=function(a){return a.x},n=function(a){return a.y},o=function(a){return a.open},p=function(a){return a.close},q=function(a){return a.high},r=function(a){return a.low},s=[],t=[],u=!1,v=!0,w=nv.utils.defaultColor(),x=!1,y=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return a.highlightPoint=function(b,c){a.clearHighlights(),j.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)},a.clearHighlights=function(){j.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},a.dispatch=y,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},xScale:{get:function(){return k},set:function(a){k=a}},yScale:{get:function(){return l},set:function(a){l=a}},xDomain:{get:function(){return b},set:function(a){b=a}},yDomain:{get:function(){return c},set:function(a){c=a}},xRange:{get:function(){return d},set:function(a){d=a}},yRange:{get:function(){return e},set:function(a){e=a}},forceX:{get:function(){return s},set:function(a){s=a}},forceY:{get:function(){return t},set:function(a){t=a}},padData:{get:function(){return u},set:function(a){u=a}},clipEdge:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return i},set:function(a){i=a}},interactive:{get:function(){return x},set:function(a){x=a}},x:{get:function(){return m},set:function(a){m=a}},y:{get:function(){return n},set:function(a){n=a}},open:{get:function(){return o()},set:function(a){o=a}},close:{get:function(){return p()},set:function(a){p=a}},high:{get:function(){return q},set:function(a){q=a}},low:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!=a.top?a.top:f.top,f.right=void 0!=a.right?a.right:f.right,f.bottom=void 0!=a.bottom?a.bottom:f.bottom,f.left=void 0!=a.left?a.left:f.left}},color:{get:function(){return w},set:function(a){w=nv.utils.getColor(a)}}}),nv.utils.initOptions(a),a},nv.models.parallelCoordinates=function(){"use strict";function a(x){return w.reset(),x.each(function(a){function w(a){
return t(k.map(function(b){if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key]))||L){var c=i[b.key].domain(),d=i[b.key].range(),e=c[0]-(c[1]-c[0])/9;if(r.indexOf(b.key)<0){var f=d3.scale.linear().domain([e,c[1]]).range([H-12,d[1]]);i[b.key].brush.y(f),r.push(b.key)}if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key])))return[h(b.key),i[b.key](e)]}return void 0!==Q&&(r.length>0||L?(Q.style("display","inline"),R.style("display","inline")):(Q.style("display","none"),R.style("display","none"))),[h(b.key),i[b.key](a.values[b.key])]}))}function x(a){o.forEach(function(b){var c=i[b.dimension].brush.y().domain();b.hasOnlyNaN&&(b.extent[1]=(i[b.dimension].domain()[1]-c[0])*(b.extent[1]-b.extent[0])/(K[b.dimension]-b.extent[0])+c[0]),b.hasNaN&&(b.extent[0]=c[0]),a&&i[b.dimension].brush.extent(b.extent)}),d.select(".nv-brushBackground").each(function(a){d3.select(this).call(i[a.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}function y(){m===!1&&x(!0)}function z(){W=l.filter(function(a){return!i[a].brush.empty()}),X=W.map(function(a){return i[a].brush.extent()}),o=[],W.forEach(function(a,b){o[b]={dimension:a,extent:X[b],hasNaN:!1,hasOnlyNaN:!1}}),p=[],b.style("display",function(a){var b=W.every(function(b,c){return(isNaN(a.values[b])||isNaN(parseFloat(a.values[b])))&&X[c][0]==i[b].brush.y().domain()[0]?!0:X[c][0]<=a.values[b]&&a.values[b]<=X[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&p.push(a),b?null:"none"}),v.brush({filters:o,active:p})}function A(){var a=W.length>0?!0:!1;o.forEach(function(a){a.extent[0]===i[a.dimension].brush.y().domain()[0]&&r.indexOf(a.dimension)>=0&&(a.hasNaN=!0),a.extent[1]<i[a.dimension].domain()[0]&&(a.hasOnlyNaN=!0)}),v.brushEnd(p,a)}function B(a){q[a.key]=this.parentNode.__origin__=h(a.key),c.attr("visibility","hidden")}function C(a){q[a.key]=Math.min(G,Math.max(0,this.parentNode.__origin__+=d3.event.x)),b.attr("d",w),k.sort(function(a,b){return E(a.key)-E(b.key)}),k.forEach(function(a,b){return a.currentPosition=b}),h.domain(k.map(function(a){return a.key})),d.attr("transform",function(a){return"translate("+E(a.key)+")"})}function D(a,d){delete this.parentNode.__origin__,delete q[a.key],d3.select(this.parentNode).attr("transform","translate("+h(a.key)+")"),b.attr("d",w),c.attr("d",w).attr("visibility",null),v.dimensionsOrder(k)}function E(a){var b=q[a];return null==b?h(a):b}var F=d3.select(this),G=nv.utils.availableWidth(f,F,e),H=nv.utils.availableHeight(g,F,e);if(nv.utils.initSVG(F),void 0===a[0].values){var I=[];a.forEach(function(a){var b={},c=Object.keys(a);c.forEach(function(c){"name"!==c&&(b[c]=a[c])}),I.push({key:a.name,values:b})}),a=I}var J=a.map(function(a){return a.values});0===p.length&&(p=a),l=j.sort(function(a,b){return a.currentPosition-b.currentPosition}).map(function(a){return a.key}),k=j.filter(function(a){return!a.disabled}),h.rangePoints([0,G],1).domain(k.map(function(a){return a.key}));var K={},L=!1;l.forEach(function(a){var b=d3.extent(J,function(b){return+b[a]}),c=b[0],d=b[1],e=!1;(isNaN(c)||isNaN(d))&&(e=!0,c=0,d=0),c===d&&(c-=1,d+=1);var f=o.filter(function(b){return b.dimension==a});0!==f.length&&(e?(c=i[a].domain()[0],d=i[a].domain()[1]):!f[0].hasOnlyNaN&&m?(c=c>f[0].extent[0]?f[0].extent[0]:c,d=d<f[0].extent[1]?f[0].extent[1]:d):f[0].hasNaN&&(d=d<f[0].extent[1]?f[0].extent[1]:d,K[a]=i[a].domain()[1],L=!0)),i[a]=d3.scale.linear().domain([c,d]).range([.9*(H-12),0]),r=[],i[a].brush=d3.svg.brush().y(i[a]).on("brushstart",y).on("brush",z).on("brushend",A)});var M=F.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]),N=M.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),O=N.append("g"),P=M.select("g");O.append("g").attr("class","nv-parallelCoordinates background"),O.append("g").attr("class","nv-parallelCoordinates foreground"),O.append("g").attr("class","nv-parallelCoordinates missingValuesline"),M.attr("transform","translate("+e.left+","+e.top+")"),t.interpolate("cardinal").tension(s),u.orient("left");var Q,R,S=d3.behavior.drag().on("dragstart",B).on("drag",C).on("dragend",D),T=h.range()[1]-h.range()[0];if(!isNaN(T)){var U=[0+T/2,H-12,G-T/2,H-12];Q=M.select(".missingValuesline").selectAll("line").data([U]),Q.enter().append("line"),Q.exit().remove(),Q.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]}),R=M.select(".missingValuesline").selectAll("text").data(["undefined values"]),R.append("text").data(["undefined values"]),R.enter().append("text"),R.exit().remove(),R.attr("y",H).attr("x",G-92-T/2).text(function(a){return a})}c=M.select(".background").selectAll("path").data(a),c.enter().append("path"),c.exit().remove(),c.attr("d",w),b=M.select(".foreground").selectAll("path").data(a),b.enter().append("path"),b.exit().remove(),b.attr("d",w).style("stroke-width",function(a,b){return isNaN(a.strokeWidth)&&(a.strokeWidth=1),a.strokeWidth}).attr("stroke",function(a,b){return a.color||n(a,b)}),b.on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("stroke-width",a.strokeWidth+2+"px").style("stroke-opacity",1),v.elementMouseover({label:a.name,color:a.color||n(a,b)})}),b.on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("stroke-width",a.strokeWidth+"px").style("stroke-opacity",.7),v.elementMouseout({label:a.name,index:b})}),b.on("mousemove",function(a,b){v.elementMousemove()}),b.on("click",function(a){v.elementClick({id:a.id})}),d=P.selectAll(".dimension").data(k);var V=d.enter().append("g").attr("class","nv-parallelCoordinates dimension");d.attr("transform",function(a){return"translate("+h(a.key)+",0)"}),V.append("g").attr("class","nv-axis"),V.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(a,b){v.elementMouseover({label:a.tooltip||a.key})}).on("mouseout",function(a,b){v.elementMouseout({label:a.tooltip})}).on("mousemove",function(a,b){v.elementMousemove()}).call(S),V.append("g").attr("class","nv-brushBackground"),d.exit().remove(),d.select(".nv-label").text(function(a){return a.key}),d.select(".nv-axis").each(function(a,b){d3.select(this).call(u.scale(i[a.key]).tickFormat(d3.format(a.format)))}),x(m);var W=l.filter(function(a){return!i[a].brush.empty()}),X=W.map(function(a){return i[a].brush.extent()}),Y=p.slice(0);p=[],b.style("display",function(a){var b=W.every(function(b,c){return(isNaN(a.values[b])||isNaN(parseFloat(a.values[b])))&&X[c][0]==i[b].brush.y().domain()[0]?!0:X[c][0]<=a.values[b]&&a.values[b]<=X[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&p.push(a),b?null:"none"}),(o.length>0||!nv.utils.arrayEquals(p,Y))&&v.activeChanged(p)}),a}var b,c,d,e={top:30,right:0,bottom:10,left:0},f=null,g=null,h=d3.scale.ordinal(),i={},j=[],k=[],l=[],m=!0,n=nv.utils.defaultColor(),o=[],p=[],q=[],r=[],s=1,t=d3.svg.line(),u=d3.svg.axis(),v=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),w=nv.utils.renderWatch(v);return a.dispatch=v,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},dimensionData:{get:function(){return j},set:function(a){j=a}},displayBrush:{get:function(){return m},set:function(a){m=a}},filters:{get:function(){return o},set:function(a){o=a}},active:{get:function(){return p},set:function(a){p=a}},lineTension:{get:function(){return s},set:function(a){s=a}},dimensions:{get:function(){return j.map(function(a){return a.key})},set:function(a){nv.deprecated("dimensions","use dimensionData instead"),0===j.length?a.forEach(function(a){j.push({key:a})}):a.forEach(function(a,b){j[b].key=a})}},dimensionNames:{get:function(){return j.map(function(a){return a.key})},set:function(a){nv.deprecated("dimensionNames","use dimensionData instead"),l=[],0===j.length?a.forEach(function(a){j.push({key:a})}):a.forEach(function(a,b){j[b].key=a})}},dimensionFormats:{get:function(){return j.map(function(a){return a.format})},set:function(a){nv.deprecated("dimensionFormats","use dimensionData instead"),0===j.length?a.forEach(function(a){j.push({format:a})}):a.forEach(function(a,b){j[b].format=a})}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},color:{get:function(){return n},set:function(a){n=nv.utils.getColor(a)}}}),nv.utils.initOptions(a),a},nv.models.parallelCoordinatesChart=function(){"use strict";function a(d){return q.reset(),q.models(b),d.each(function(d){var i=d3.select(this);nv.utils.initSVG(i);var o=nv.utils.availableWidth(f,i,e),q=nv.utils.availableHeight(g,i,e);a.update=function(){i.call(a)},a.container=this,j.setter(s(k),a.update).getter(r(k)).update(),j.disabled=k.map(function(a){return!!a.disabled}),k=k.map(function(a){return a.disabled=!!a.disabled,a}),k.forEach(function(a,b){a.originalPosition=isNaN(a.originalPosition)?b:a.originalPosition,a.currentPosition=isNaN(a.currentPosition)?b:a.currentPosition});var t=l.map(function(a){return a.key}),u=k.map(function(a){return a.key});if(k.forEach(function(a,b){var c=t.indexOf(a.key);if(0>c)l.splice(b,0,a);else{var d=l[c].currentPosition-l[c].originalPosition;l[c].originalPosition=a.originalPosition,l[c].currentPosition=a.originalPosition+d}}),l=l.filter(function(a){return u.indexOf(a.key)>=0}),!n){var v;n={};for(v in j)j[v]instanceof Array?n[v]=j[v].slice(0):n[v]=j[v]}if(!d||!d.length)return nv.utils.noData(a,i),a;i.selectAll(".nv-noData").remove();var w=i.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([d]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),y=w.select("g");x.append("g").attr("class","nv-parallelCoordinatesWrap"),x.append("g").attr("class","nv-legendWrap"),y.select("rect").attr("width",o).attr("height",q>0?q:0),h&&(c.width(o).color(function(a){return"rgb(188,190,192)"}),y.select(".nv-legendWrap").datum(l.sort(function(a,b){return a.originalPosition-b.originalPosition})).call(c),e.top!=c.height()&&(e.top=c.height(),q=nv.utils.availableHeight(g,i,e)),w.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-e.top+")")),w.attr("transform","translate("+e.left+","+e.top+")"),b.width(o).height(q).dimensionData(l).displayBrush(m);var z=y.select(".nv-parallelCoordinatesWrap ").datum(d);z.transition().call(b),b.dispatch.on("brushEnd",function(a,b){b?(m=!0,p.brushEnd(a)):m=!1}),c.dispatch.on("stateChange",function(b){for(var c in b)j[c]=b[c];p.stateChange(j),a.update()}),b.dispatch.on("dimensionsOrder",function(a){l.sort(function(a,b){return a.currentPosition-b.currentPosition});var b=!1;l.forEach(function(a,c){a.currentPosition=c,a.currentPosition!==a.originalPosition&&(b=!0)}),p.dimensionsOrder(l,b)}),p.on("changeState",function(b){"undefined"!=typeof b.disabled&&(l.forEach(function(a,c){a.disabled=b.disabled[c]}),j.disabled=b.disabled),a.update()})}),q.renderEnd("parraleleCoordinateChart immediate"),a}var b=nv.models.parallelCoordinates(),c=nv.models.legend(),d=nv.models.tooltip(),e=(nv.models.tooltip(),{top:0,right:0,bottom:0,left:0}),f=null,g=null,h=!0,i=nv.utils.defaultColor(),j=nv.utils.state(),k=[],l=[],m=!0,n=null,o=null,p=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),q=nv.utils.renderWatch(p),r=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},s=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,color:a.color},d.data(a).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(){d()}),a.dispatch=p,a.parallelCoordinates=b,a.legend=c,a.tooltip=d,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},showLegend:{get:function(){return h},set:function(a){h=a}},defaultState:{get:function(){return n},set:function(a){n=a}},dimensionData:{get:function(){return k},set:function(a){k=a}},displayBrush:{get:function(){return m},set:function(a){m=a}},noData:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},color:{get:function(){return i},set:function(a){i=nv.utils.getColor(a),c.color(i),b.color(i)}}}),nv.utils.inheritOptions(a,b),nv.utils.initOptions(a),a},nv.models.pie=function(){"use strict";function a(D){return C.reset(),D.each(function(a){function D(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle,a.startAngle=isNaN(a.startAngle)?0:a.startAngle,o||(a.innerRadius=0);var c=d3.interpolate(this._current,a);return this._current=c(0),function(a){return A[b](c(a))}}var E=c-b.left-b.right,F=d-b.top-b.bottom,G=Math.min(E,F)/2,H=[],I=[];if(h=d3.select(this),0===y.length)for(var J=G-G/5,K=x*G,L=0;L<a[0].length;L++)H.push(J),I.push(K);else H=y.map(function(a){return(a.outer-a.outer/5)*G}),I=y.map(function(a){return(a.inner-a.inner/5)*G}),x=d3.min(y.map(function(a){return a.inner-a.inner/5}));nv.utils.initSVG(h);var M=h.selectAll(".nv-wrap.nv-pie").data(a),N=M.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+g),O=N.append("g"),P=M.select("g"),Q=O.append("g").attr("class","nv-pie");O.append("g").attr("class","nv-pieLabels"),M.attr("transform","translate("+b.left+","+b.top+")"),P.select(".nv-pie").attr("transform","translate("+E/2+","+F/2+")"),P.select(".nv-pieLabels").attr("transform","translate("+E/2+","+F/2+")"),h.on("click",function(a,b){z.chartClick({data:a,index:b,pos:d3.event,id:g})}),A=[],B=[];for(var L=0;L<a[0].length;L++){var R=d3.svg.arc().outerRadius(H[L]),S=d3.svg.arc().outerRadius(H[L]+5);t!==!1&&(R.startAngle(t),S.startAngle(t)),v!==!1&&(R.endAngle(v),S.endAngle(v)),o&&(R.innerRadius(I[L]),S.innerRadius(I[L])),R.cornerRadius&&w&&(R.cornerRadius(w),S.cornerRadius(w)),A.push(R),B.push(S)}var T=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:f(a)});T.padAngle&&u&&T.padAngle(u),o&&p&&(Q.append("text").attr("class","nv-pie-title"),M.select(".nv-pie-title").style("text-anchor","middle").text(function(a){return p}).style("font-size",Math.min(E,F)*x*2/(p.length+2)+"px").attr("dy","0.35em").attr("transform",function(a,b){return"translate(0, "+r+")"}));var U=M.select(".nv-pie").selectAll(".nv-slice").data(T),V=M.select(".nv-pieLabels").selectAll(".nv-label").data(T);U.exit().remove(),V.exit().remove();var W=U.enter().append("g");W.attr("class","nv-slice"),W.on("mouseover",function(a,b){d3.select(this).classed("hover",!0),q&&d3.select(this).select("path").transition().duration(70).attr("d",B[b]),z.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill")})}),W.on("mouseout",function(a,b){d3.select(this).classed("hover",!1),q&&d3.select(this).select("path").transition().duration(50).attr("d",A[b]),z.elementMouseout({data:a.data,index:b})}),W.on("mousemove",function(a,b){z.elementMousemove({data:a.data,index:b})}),W.on("click",function(a,b){var c=this;z.elementClick({data:a.data,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c})}),W.on("dblclick",function(a,b){z.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})}),U.attr("fill",function(a,b){return i(a.data,b)}),U.attr("stroke",function(a,b){return i(a.data,b)});W.append("path").each(function(a){this._current=a});if(U.select("path").transition().attr("d",function(a,b){return A[b](a)}).attrTween("d",D),k){for(var X=[],L=0;L<a[0].length;L++)X.push(A[L]),l?o&&(X[L]=d3.svg.arc().outerRadius(A[L].outerRadius()),t!==!1&&X[L].startAngle(t),v!==!1&&X[L].endAngle(v)):o||X[L].innerRadius(0);V.enter().append("g").classed("nv-label",!0).each(function(a,b){var c=d3.select(this);c.attr("transform",function(a,b){if(s){a.outerRadius=H[b]+10,a.innerRadius=H[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+X[b].centroid(a)+") rotate("+c+")"}return a.outerRadius=G+10,a.innerRadius=G+15,"translate("+X[b].centroid(a)+")"}),c.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),c.append("text").style("text-anchor",s?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var Y={},Z=14,$=140,_=function(a){return Math.floor(a[0]/$)*$+","+Math.floor(a[1]/Z)*Z},aa=function(a){return(a.endAngle-a.startAngle)/(2*Math.PI)};V.watchTransition(C,"pie labels").attr("transform",function(a,b){if(s){a.outerRadius=H[b]+10,a.innerRadius=H[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+X[b].centroid(a)+") rotate("+c+")"}a.outerRadius=G+10,a.innerRadius=G+15;var d=X[b].centroid(a),e=aa(a);if(a.value&&e>=n){var f=_(d);Y[f]&&(d[1]-=Z),Y[_(d)]=!0}return"translate("+d+")"}),V.select(".nv-label text").style("text-anchor",function(a,b){return s?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=aa(a),d="";if(!a.value||n>c)return"";if("function"==typeof m)d=m(a,b,{key:e(a.data),value:f(a.data),percent:j(c)});else switch(m){case"key":d=e(a.data);break;case"value":d=j(f(a.data));break;case"percent":d=d3.format("%")(c)}return d})}}),C.renderEnd("pie immediate"),a}var b={top:0,right:0,bottom:0,left:0},c=500,d=500,e=function(a){return a.x},f=function(a){return a.y},g=Math.floor(1e4*Math.random()),h=null,i=nv.utils.defaultColor(),j=d3.format(",.2f"),k=!0,l=!1,m="key",n=.02,o=!1,p=!1,q=!0,r=0,s=!1,t=!1,u=!1,v=!1,w=0,x=.5,y=[],z=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),A=[],B=[],C=nv.utils.renderWatch(z);return a.dispatch=z,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{arcsRadius:{get:function(){return y},set:function(a){y=a}},width:{get:function(){return c},set:function(a){c=a}},height:{get:function(){return d},set:function(a){d=a}},showLabels:{get:function(){return k},set:function(a){k=a}},title:{get:function(){return p},set:function(a){p=a}},titleOffset:{get:function(){return r},set:function(a){r=a}},labelThreshold:{get:function(){return n},set:function(a){n=a}},valueFormat:{get:function(){return j},set:function(a){j=a}},x:{get:function(){return e},set:function(a){e=a}},id:{get:function(){return g},set:function(a){g=a}},endAngle:{get:function(){return v},set:function(a){v=a}},startAngle:{get:function(){return t},set:function(a){t=a}},padAngle:{get:function(){return u},set:function(a){u=a}},cornerRadius:{get:function(){return w},set:function(a){w=a}},donutRatio:{get:function(){return x},set:function(a){x=a}},labelsOutside:{get:function(){return l},set:function(a){l=a}},labelSunbeamLayout:{get:function(){return s},set:function(a){s=a}},donut:{get:function(){return o},set:function(a){o=a}},growOnHover:{get:function(){return q},set:function(a){q=a}},pieLabelsOutside:{get:function(){return l},set:function(a){l=a,nv.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return l},set:function(a){l=a,nv.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return j},set:function(a){j=a,nv.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return b},set:function(a){b.top="undefined"!=typeof a.top?a.top:b.top,b.right="undefined"!=typeof a.right?a.right:b.right,b.bottom="undefined"!=typeof a.bottom?a.bottom:b.bottom,b.left="undefined"!=typeof a.left?a.left:b.left}},y:{get:function(){return f},set:function(a){f=d3.functor(a)}},color:{get:function(){return i},set:function(a){i=nv.utils.getColor(a)}},labelType:{get:function(){return m},set:function(a){m=a||"key"}}}),nv.utils.initOptions(a),a},nv.models.pieChart=function(){"use strict";function a(d){return p.reset(),p.models(b),d.each(function(d){var j=d3.select(this);nv.utils.initSVG(j);var m=nv.utils.availableWidth(f,j,e),n=nv.utils.availableHeight(g,j,e);if(a.update=function(){j.transition().call(a)},a.container=this,k.setter(r(d),a.update).getter(q(d)).update(),k.disabled=d.map(function(a){return!!a.disabled}),!l){var p;l={};for(p in k)k[p]instanceof Array?l[p]=k[p].slice(0):l[p]=k[p]}if(!d||!d.length)return nv.utils.noData(a,j),a;j.selectAll(".nv-noData").remove();var s=j.selectAll("g.nv-wrap.nv-pieChart").data([d]),t=s.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),u=s.select("g");if(t.append("g").attr("class","nv-pieWrap"),t.append("g").attr("class","nv-legendWrap"),h)if("top"===i)c.width(m).key(b.x()),s.select(".nv-legendWrap").datum(d).call(c),e.top!=c.height()&&(e.top=c.height(),n=nv.utils.availableHeight(g,j,e)),s.select(".nv-legendWrap").attr("transform","translate(0,"+-e.top+")");else if("right"===i){var v=nv.models.legend().width();v>m/2&&(v=m/2),c.height(n).key(b.x()),c.width(v),m-=c.width(),s.select(".nv-legendWrap").datum(d).call(c).attr("transform","translate("+m+",0)")}s.attr("transform","translate("+e.left+","+e.top+")"),b.width(m).height(n);var w=u.select(".nv-pieWrap").datum([d]);d3.transition(w).call(b),c.dispatch.on("stateChange",function(b){for(var c in b)k[c]=b[c];o.stateChange(k),a.update()}),o.on("changeState",function(b){"undefined"!=typeof b.disabled&&(d.forEach(function(a,c){a.disabled=b.disabled[c]}),k.disabled=b.disabled),a.update()})}),p.renderEnd("pieChart immediate"),a}var b=nv.models.pie(),c=nv.models.legend(),d=nv.models.tooltip(),e={top:30,right:20,bottom:20,left:20},f=null,g=null,h=!0,i="top",j=nv.utils.defaultColor(),k=nv.utils.state(),l=null,m=null,n=250,o=d3.dispatch("stateChange","changeState","renderEnd");d.duration(0).headerEnabled(!1).valueFormatter(function(a,c){return b.valueFormat()(a,c)});var p=nv.utils.renderWatch(o),q=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},r=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color},d.data(b).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(a){d()}),a.legend=c,a.dispatch=o,a.pie=b,a.tooltip=d,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{noData:{get:function(){return m},set:function(a){m=a}},showLegend:{get:function(){return h},set:function(a){h=a}},legendPosition:{get:function(){return i},set:function(a){i=a}},defaultState:{get:function(){return l},set:function(a){l=a}},color:{get:function(){return j},set:function(a){j=a,c.color(j),b.color(j)}},duration:{get:function(){return n},set:function(a){n=a,p.reset(n)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}}}),nv.utils.inheritOptions(a,b),nv.utils.initOptions(a),a},nv.models.scatter=function(){"use strict";function a(M){return P.reset(),M.each(function(M){function R(){if(O=!1,!v)return!1;if(L===!0){var a=d3.merge(M.map(function(a,b){return a.values.map(function(a,c){var d=o(a,c),e=p(a,c);return[l(d)+1e-4*Math.random(),m(e)+1e-4*Math.random(),b,c,a]}).filter(function(a,b){return w(a[4],b)})}));if(0==a.length)return!1;a.length<3&&(a.push([l.range()[0]-20,m.range()[0]-20,null,null]),a.push([l.range()[1]+20,m.range()[1]+20,null,null]),a.push([l.range()[0]-20,m.range()[0]+20,null,null]),a.push([l.range()[1]+20,m.range()[1]-20,null,null]));var b=d3.geom.polygon([[-10,-10],[-10,h+10],[g+10,h+10],[g+10,-10]]),c=d3.geom.voronoi(a).map(function(c,d){return{data:b.clip(c),series:a[d][2],point:a[d][3]}});W.select(".nv-point-paths").selectAll("path").remove();var d=W.select(".nv-point-paths").selectAll("path").data(c),e=d.enter().append("svg:path").attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+j+"-"+b+")"});if(B&&e.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),A){W.select(".nv-point-clips").selectAll("*").remove();var n=W.select(".nv-point-clips").selectAll("clipPath").data(a);n.enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+j+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",C)}var q=function(a,b){if(O)return 0;var c=M[a.series];if(void 0!==c){var d=c.values[a.point];d.color=i(c,a.series),d.x=o(d),d.y=p(d);var e=k.node().getBoundingClientRect(),g=window.pageYOffset||document.documentElement.scrollTop,h=window.pageXOffset||document.documentElement.scrollLeft,j={left:l(o(d,a.point))+e.left+h+f.left+10,top:m(p(d,a.point))+e.top+g+f.top+10};b({point:d,series:c,pos:j,relativePos:[l(o(d,a.point))+f.left,m(p(d,a.point))+f.top],seriesIndex:a.series,pointIndex:a.point})}};d.on("click",function(a){q(a,K.elementClick)}).on("dblclick",function(a){q(a,K.elementDblClick)}).on("mouseover",function(a){q(a,K.elementMouseover)}).on("mouseout",function(a,b){q(a,K.elementMouseout)})}else W.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(a,b){if(O||!M[a.series])return 0;var c=M[a.series],d=c.values[b];K.elementClick({point:d,series:c,pos:[l(o(d,b))+f.left,m(p(d,b))+f.top],relativePos:[l(o(d,b))+f.left,m(p(d,b))+f.top],seriesIndex:a.series,pointIndex:b})}).on("dblclick",function(a,b){if(O||!M[a.series])return 0;var c=M[a.series],d=c.values[b];K.elementDblClick({point:d,series:c,pos:[l(o(d,b))+f.left,m(p(d,b))+f.top],relativePos:[l(o(d,b))+f.left,m(p(d,b))+f.top],seriesIndex:a.series,pointIndex:b})}).on("mouseover",function(a,b){if(O||!M[a.series])return 0;var c=M[a.series],d=c.values[b];K.elementMouseover({point:d,series:c,pos:[l(o(d,b))+f.left,m(p(d,b))+f.top],relativePos:[l(o(d,b))+f.left,m(p(d,b))+f.top],seriesIndex:a.series,pointIndex:b,color:i(a,b)})}).on("mouseout",function(a,b){if(O||!M[a.series])return 0;var c=M[a.series],d=c.values[b];K.elementMouseout({point:d,series:c,pos:[l(o(d,b))+f.left,m(p(d,b))+f.top],relativePos:[l(o(d,b))+f.left,m(p(d,b))+f.top],seriesIndex:a.series,pointIndex:b,color:i(a,b)})})}k=d3.select(this);var S=nv.utils.availableWidth(g,k,f),T=nv.utils.availableHeight(h,k,f);nv.utils.initSVG(k),M.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var U=D&&E&&H?[]:d3.merge(M.map(function(a){return a.values.map(function(a,b){return{x:o(a,b),y:p(a,b),size:q(a,b)}})}));if(l.domain(D||d3.extent(U.map(function(a){return a.x}).concat(s))),x&&M[0]?l.range(F||[(S*y+S)/(2*M[0].values.length),S-S*(1+y)/(2*M[0].values.length)]):l.range(F||[0,S]),"o"===a.yScale().name){var V=d3.min(U.map(function(a){return 0!==a.y?a.y:void 0}));m.clamp(!0).domain(E||d3.extent(U.map(function(a){return 0!==a.y?a.y:.1*V}).concat(t))).range(G||[T,0])}else m.domain(E||d3.extent(U.map(function(a){return a.y}).concat(t))).range(G||[T,0]);n.domain(H||d3.extent(U.map(function(a){return a.size}).concat(u))).range(I||Q),J=l.domain()[0]===l.domain()[1]||m.domain()[0]===m.domain()[1],l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(l.domain()[0])&&l.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),b=b||l,c=c||m,d=d||n;var W=k.selectAll("g.nv-wrap.nv-scatter").data([M]),X=W.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+j),Y=X.append("defs"),Z=X.append("g"),$=W.select("g");W.classed("nv-single-point",J),Z.append("g").attr("class","nv-groups"),Z.append("g").attr("class","nv-point-paths"),X.append("g").attr("class","nv-point-clips"),W.attr("transform","translate("+f.left+","+f.top+")"),Y.append("clipPath").attr("id","nv-edge-clip-"+j).append("rect"),W.select("#nv-edge-clip-"+j+" rect").attr("width",S).attr("height",T>0?T:0),$.attr("clip-path",z?"url(#nv-edge-clip-"+j+")":""),O=!0;var _=W.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});_.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),_.exit().remove(),_.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),_.watchTransition(P,"scatter: groups").style("fill",function(a,b){return i(a,b)}).style("stroke",function(a,b){return i(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);var aa=_.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return w(a[0],b)})});aa.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+nv.utils.NaNtoZero(b(o(a[0],a[1])))+","+nv.utils.NaNtoZero(c(p(a[0],a[1])))+")"}).attr("d",nv.utils.symbol().type(function(a){return r(a[0])}).size(function(a){return n(q(a[0],a[1]))})),aa.exit().remove(),_.exit().selectAll("path.nv-point").watchTransition(P,"scatter exit").attr("transform",function(a){return"translate("+nv.utils.NaNtoZero(l(o(a[0],a[1])))+","+nv.utils.NaNtoZero(m(p(a[0],a[1])))+")"}).remove(),aa.each(function(a){d3.select(this).classed("nv-point",!0).classed("nv-point-"+a[1],!0).classed("nv-noninteractive",!v).classed("hover",!1)}),aa.watchTransition(P,"scatter points").attr("transform",function(a){return"translate("+nv.utils.NaNtoZero(l(o(a[0],a[1])))+","+nv.utils.NaNtoZero(m(p(a[0],a[1])))+")"}).attr("d",nv.utils.symbol().type(function(a){return r(a[0])}).size(function(a){return n(q(a[0],a[1]))})),N?(clearTimeout(e),e=setTimeout(R,N)):R(),b=l.copy(),c=m.copy(),d=n.copy()}),P.renderEnd("scatter immediate"),a}var b,c,d,e,f={top:0,right:0,bottom:0,left:0},g=null,h=null,i=nv.utils.defaultColor(),j=Math.floor(1e5*Math.random()),k=null,l=d3.scale.linear(),m=d3.scale.linear(),n=d3.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=function(a){return a.size||1},r=function(a){return a.shape||"circle"},s=[],t=[],u=[],v=!0,w=function(a){return!a.notActive},x=!1,y=.1,z=!1,A=!0,B=!1,C=function(){return 25},D=null,E=null,F=null,G=null,H=null,I=null,J=!1,K=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),L=!0,M=250,N=300,O=!1,P=nv.utils.renderWatch(K,M),Q=[16,256];return a.dispatch=K,a.options=nv.utils.optionsFunc.bind(a),a._calls=new function(){this.clearHighlights=function(){return nv.dom.write(function(){k.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(a,b,c){nv.dom.write(function(){k.select(".nv-groups").selectAll(".nv-series-"+a).selectAll(".nv-point-"+b).classed("hover",c)})}},K.on("elementMouseover.point",function(b){v&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,!0)}),K.on("elementMouseout.point",function(b){v&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,!1)}),a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},pointScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return D},set:function(a){D=a}},yDomain:{get:function(){return E},set:function(a){E=a}},pointDomain:{get:function(){return H},set:function(a){H=a}},xRange:{get:function(){return F},set:function(a){F=a}},yRange:{get:function(){return G},set:function(a){G=a}},pointRange:{
get:function(){return I},set:function(a){I=a}},forceX:{get:function(){return s},set:function(a){s=a}},forceY:{get:function(){return t},set:function(a){t=a}},forcePoint:{get:function(){return u},set:function(a){u=a}},interactive:{get:function(){return v},set:function(a){v=a}},pointActive:{get:function(){return w},set:function(a){w=a}},padDataOuter:{get:function(){return y},set:function(a){y=a}},padData:{get:function(){return x},set:function(a){x=a}},clipEdge:{get:function(){return z},set:function(a){z=a}},clipVoronoi:{get:function(){return A},set:function(a){A=a}},clipRadius:{get:function(){return C},set:function(a){C=a}},showVoronoi:{get:function(){return B},set:function(a){B=a}},id:{get:function(){return j},set:function(a){j=a}},interactiveUpdateDelay:{get:function(){return N},set:function(a){N=a}},x:{get:function(){return o},set:function(a){o=d3.functor(a)}},y:{get:function(){return p},set:function(a){p=d3.functor(a)}},pointSize:{get:function(){return q},set:function(a){q=d3.functor(a)}},pointShape:{get:function(){return r},set:function(a){r=d3.functor(a)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return M},set:function(a){M=a,P.reset(M)}},color:{get:function(){return i},set:function(a){i=nv.utils.getColor(a)}},useVoronoi:{get:function(){return L},set:function(a){L=a,L===!1&&(A=!1)}}}),nv.utils.initOptions(a),a},nv.models.scatterChart=function(){"use strict";function a(y){return C.reset(),C.models(b),s&&C.models(c),t&&C.models(d),p&&C.models(f),q&&C.models(g),y.each(function(y){l=d3.select(this),nv.utils.initSVG(l);var F=nv.utils.availableWidth(j,l,i),G=nv.utils.availableHeight(k,l,i);if(a.update=function(){0===z?l.call(a):l.transition().duration(z).call(a)},a.container=this,v.setter(E(y),a.update).getter(D(y)).update(),v.disabled=y.map(function(a){return!!a.disabled}),!w){var H;w={};for(H in v)v[H]instanceof Array?w[H]=v[H].slice(0):w[H]=v[H]}if(!(y&&y.length&&y.filter(function(a){return a.values.length}).length))return nv.utils.noData(a,l),C.renderEnd("scatter immediate"),a;l.selectAll(".nv-noData").remove(),n=b.xScale(),o=b.yScale();var I=l.selectAll("g.nv-wrap.nv-scatterChart").data([y]),J=I.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()),K=J.append("g"),L=I.select("g");if(K.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),K.append("g").attr("class","nv-x nv-axis"),K.append("g").attr("class","nv-y nv-axis"),K.append("g").attr("class","nv-scatterWrap"),K.append("g").attr("class","nv-regressionLinesWrap"),K.append("g").attr("class","nv-distWrap"),K.append("g").attr("class","nv-legendWrap"),u&&L.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),r){var M=F;e.width(M),I.select(".nv-legendWrap").datum(y).call(e),i.top!=e.height()&&(i.top=e.height(),G=nv.utils.availableHeight(k,l,i)),I.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")}I.attr("transform","translate("+i.left+","+i.top+")"),b.width(F).height(G).color(y.map(function(a,b){return a.color=a.color||m(a,b),a.color}).filter(function(a,b){return!y[b].disabled})),I.select(".nv-scatterWrap").datum(y.filter(function(a){return!a.disabled})).call(b),I.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");var N=I.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});N.enter().append("g").attr("class","nv-regLines");var O=N.selectAll(".nv-regLine").data(function(a){return[a]});O.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),O.filter(function(a){return a.intercept&&a.slope}).watchTransition(C,"scatterPlusLineChart: regline").attr("x1",n.range()[0]).attr("x2",n.range()[1]).attr("y1",function(a,b){return o(n.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return o(n.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return m(a,c)}).style("stroke-opacity",function(a,b){return a.disabled||"undefined"==typeof a.slope||"undefined"==typeof a.intercept?0:1}),s&&(c.scale(n)._ticks(nv.utils.calcTicksX(F/100,y)).tickSize(-G,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")").call(c)),t&&(d.scale(o)._ticks(nv.utils.calcTicksY(G/36,y)).tickSize(-F,0),L.select(".nv-y.nv-axis").call(d)),p&&(f.getData(b.x()).scale(n).width(F).color(y.map(function(a,b){return a.color||m(a,b)}).filter(function(a,b){return!y[b].disabled})),K.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),L.select(".nv-distributionX").attr("transform","translate(0,"+o.range()[0]+")").datum(y.filter(function(a){return!a.disabled})).call(f)),q&&(g.getData(b.y()).scale(o).width(G).color(y.map(function(a,b){return a.color||m(a,b)}).filter(function(a,b){return!y[b].disabled})),K.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),L.select(".nv-distributionY").attr("transform","translate("+(u?F:-g.size())+",0)").datum(y.filter(function(a){return!a.disabled})).call(g)),e.dispatch.on("stateChange",function(b){for(var c in b)v[c]=b[c];x.stateChange(v),a.update()}),x.on("changeState",function(b){"undefined"!=typeof b.disabled&&(y.forEach(function(a,c){a.disabled=b.disabled[c]}),v.disabled=b.disabled),a.update()}),b.dispatch.on("elementMouseout.tooltip",function(a){h.hidden(!0),l.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0),l.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",g.size())}),b.dispatch.on("elementMouseover.tooltip",function(a){l.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.relativePos[1]-G),l.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.relativePos[0]+f.size()),h.data(a).hidden(!1)}),A=n.copy(),B=o.copy()}),C.renderEnd("scatter with line immediate"),a}var b=nv.models.scatter(),c=nv.models.axis(),d=nv.models.axis(),e=nv.models.legend(),f=nv.models.distribution(),g=nv.models.distribution(),h=nv.models.tooltip(),i={top:30,right:20,bottom:50,left:75},j=null,k=null,l=null,m=nv.utils.defaultColor(),n=b.xScale(),o=b.yScale(),p=!1,q=!1,r=!0,s=!0,t=!0,u=!1,v=nv.utils.state(),w=null,x=d3.dispatch("stateChange","changeState","renderEnd"),y=null,z=250;b.xScale(n).yScale(o),c.orient("bottom").tickPadding(10),d.orient(u?"right":"left").tickPadding(10),f.axis("x"),g.axis("y"),h.headerFormatter(function(a,b){return c.tickFormat()(a,b)}).valueFormatter(function(a,b){return d.tickFormat()(a,b)});var A,B,C=nv.utils.renderWatch(x,z),D=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},E=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return a.dispatch=x,a.scatter=b,a.legend=e,a.xAxis=c,a.yAxis=d,a.distX=f,a.distY=g,a.tooltip=h,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},container:{get:function(){return l},set:function(a){l=a}},showDistX:{get:function(){return p},set:function(a){p=a}},showDistY:{get:function(){return q},set:function(a){q=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return y},set:function(a){y=a}},duration:{get:function(){return z},set:function(a){z=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a,d.orient(a?"right":"left")}},color:{get:function(){return m},set:function(a){m=nv.utils.getColor(a),e.color(m),f.color(m),g.color(m)}}}),nv.utils.inheritOptions(a,b),nv.utils.initOptions(a),a},nv.models.sparkline=function(){"use strict";function a(j){return q.reset(),j.each(function(a){var j=g-f.left-f.right,p=h-f.top-f.bottom;i=d3.select(this),nv.utils.initSVG(i),k.domain(b||d3.extent(a,m)).range(d||[0,j]),l.domain(c||d3.extent(a,n)).range(e||[p,0]);var q=i.selectAll("g.nv-wrap.nv-sparkline").data([a]),r=q.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");r.append("g"),q.select("g");q.attr("transform","translate("+f.left+","+f.top+")");var s=q.selectAll("path").data(function(a){return[a]});s.enter().append("path"),s.exit().remove(),s.style("stroke",function(a,b){return a.color||o(a,b)}).attr("d",d3.svg.line().x(function(a,b){return k(m(a,b))}).y(function(a,b){return l(n(a,b))}));var t=q.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];return c.pointIndex=b,c}return null}var c=a.map(function(a,b){return n(a,b)}),d=b(c.lastIndexOf(l.domain()[1])),e=b(c.indexOf(l.domain()[0])),f=b(c.length-1);return[e,d,f].filter(function(a){return null!=a})});t.enter().append("circle"),t.exit().remove(),t.attr("cx",function(a,b){return k(m(a,a.pointIndex))}).attr("cy",function(a,b){return l(n(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return m(a,a.pointIndex)==k.domain()[1]?"nv-point nv-currentValue":n(a,a.pointIndex)==l.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),q.renderEnd("sparkline immediate"),a}var b,c,d,e,f={top:2,right:0,bottom:2,left:0},g=400,h=32,i=null,j=!0,k=d3.scale.linear(),l=d3.scale.linear(),m=function(a){return a.x},n=function(a){return a.y},o=nv.utils.getColor(["#000"]),p=d3.dispatch("renderEnd"),q=nv.utils.renderWatch(p);return a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},xDomain:{get:function(){return b},set:function(a){b=a}},yDomain:{get:function(){return c},set:function(a){c=a}},xRange:{get:function(){return d},set:function(a){d=a}},yRange:{get:function(){return e},set:function(a){e=a}},xScale:{get:function(){return k},set:function(a){k=a}},yScale:{get:function(){return l},set:function(a){l=a}},animate:{get:function(){return j},set:function(a){j=a}},x:{get:function(){return m},set:function(a){m=d3.functor(a)}},y:{get:function(){return n},set:function(a){n=d3.functor(a)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return o},set:function(a){o=nv.utils.getColor(a)}}}),a.dispatch=p,nv.utils.initOptions(a),a},nv.models.sparklinePlus=function(){"use strict";function a(o){return q.reset(),q.models(d),o.each(function(o){function p(){if(!i){var a=y.selectAll(".nv-hoverValue").data(h),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),a.attr("transform",function(a){return"translate("+b(d.x()(o[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),h.length&&(c.append("line").attr("x1",0).attr("y1",-e.top).attr("x2",0).attr("y2",t),c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-e.top).attr("text-anchor","end").attr("dy",".9em"),y.select(".nv-hoverValue .nv-xValue").text(j(d.x()(o[h[0]],h[0]))),c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-e.top).attr("text-anchor","start").attr("dy",".9em"),y.select(".nv-hoverValue .nv-yValue").text(k(d.y()(o[h[0]],h[0]))))}}function q(){function a(a,b){for(var c=Math.abs(d.x()(a[0],0)-b),e=0,f=0;f<a.length;f++)Math.abs(d.x()(a[f],f)-b)<c&&(c=Math.abs(d.x()(a[f],f)-b),e=f);return e}if(!i){var c=d3.mouse(this)[0]-e.left;h=[a(o,Math.round(b.invert(c)))],p()}}var r=d3.select(this);nv.utils.initSVG(r);var s=nv.utils.availableWidth(f,r,e),t=nv.utils.availableHeight(g,r,e);if(a.update=function(){r.call(a)},a.container=this,!o||!o.length)return nv.utils.noData(a,r),a;r.selectAll(".nv-noData").remove();var u=d.y()(o[o.length-1],o.length-1);b=d.xScale(),c=d.yScale();var v=r.selectAll("g.nv-wrap.nv-sparklineplus").data([o]),w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),x=w.append("g"),y=v.select("g");x.append("g").attr("class","nv-sparklineWrap"),x.append("g").attr("class","nv-valueWrap"),x.append("g").attr("class","nv-hoverArea"),v.attr("transform","translate("+e.left+","+e.top+")");var z=y.select(".nv-sparklineWrap");if(d.width(s).height(t),z.call(d),l){var A=y.select(".nv-valueWrap"),B=A.selectAll(".nv-currentValue").data([u]);B.enter().append("text").attr("class","nv-currentValue").attr("dx",n?-8:8).attr("dy",".9em").style("text-anchor",n?"end":"start"),B.attr("x",s+(n?e.right:0)).attr("y",m?function(a){return c(a)}:0).style("fill",d.color()(o[o.length-1],o.length-1)).text(k(u))}x.select(".nv-hoverArea").append("rect").on("mousemove",q).on("click",function(){i=!i}).on("mouseout",function(){h=[],p()}),y.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-e.left+","+-e.top+")"}).attr("width",s+e.left+e.right).attr("height",t+e.top)}),q.renderEnd("sparklinePlus immediate"),a}var b,c,d=nv.models.sparkline(),e={top:15,right:100,bottom:10,left:50},f=null,g=null,h=[],i=!1,j=d3.format(",r"),k=d3.format(",.2f"),l=!0,m=!0,n=!1,o=null,p=d3.dispatch("renderEnd"),q=nv.utils.renderWatch(p);return a.dispatch=p,a.sparkline=d,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},xTickFormat:{get:function(){return j},set:function(a){j=a}},yTickFormat:{get:function(){return k},set:function(a){k=a}},showLastValue:{get:function(){return l},set:function(a){l=a}},alignValue:{get:function(){return m},set:function(a){m=a}},rightAlignValue:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}}}),nv.utils.inheritOptions(a,d),nv.utils.initOptions(a),a},nv.models.stackedArea=function(){"use strict";function a(m){return u.reset(),u.models(r),m.each(function(m){var s=e-d.left-d.right,v=f-d.top-d.bottom;i=d3.select(this),nv.utils.initSVG(i),b=r.xScale(),c=r.yScale();var w=m;m.forEach(function(a,b){a.seriesIndex=b,a.values=a.values.map(function(a,c){return a.index=c,a.seriesIndex=b,a})});var x=m.filter(function(a){return!a.disabled});m=d3.layout.stack().order(o).offset(n).values(function(a){return a.values}).x(j).y(k).out(function(a,b,c){a.display={y:c,y0:b}})(x);var y=i.selectAll("g.nv-wrap.nv-stackedarea").data([m]),z=y.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),A=z.append("defs"),B=z.append("g"),C=y.select("g");B.append("g").attr("class","nv-areaWrap"),B.append("g").attr("class","nv-scatterWrap"),y.attr("transform","translate("+d.left+","+d.top+")"),0==r.forceY().length&&r.forceY().push(0),r.width(s).height(v).x(j).y(function(a){return void 0!==a.display?a.display.y+a.display.y0:void 0}).forceY([0]).color(m.map(function(a,b){return a.color=a.color||g(a,a.seriesIndex),a.color}));var D=C.select(".nv-scatterWrap").datum(m);D.call(r),A.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect"),y.select("#nv-edge-clip-"+h+" rect").attr("width",s).attr("height",v),C.attr("clip-path",q?"url(#nv-edge-clip-"+h+")":"");var E=d3.svg.area().defined(l).x(function(a,c){return b(j(a,c))}).y0(function(a){return c(a.display.y0)}).y1(function(a){return c(a.display.y+a.display.y0)}).interpolate(p),F=d3.svg.area().defined(l).x(function(a,c){return b(j(a,c))}).y0(function(a){return c(a.display.y0)}).y1(function(a){return c(a.display.y0)}),G=C.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});G.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return F(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),t.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),t.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1),t.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}),G.exit().remove(),G.style("fill",function(a,b){return a.color||g(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||g(a,a.seriesIndex)}),G.watchTransition(u,"stackedArea path").attr("d",function(a,b){return E(a.values,b)}),r.dispatch.on("elementMouseover.area",function(a){C.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",!0)}),r.dispatch.on("elementMouseout.area",function(a){C.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",!1)}),a.d3_stackedOffset_stackPercent=function(a){var b,c,d,e=a.length,f=a[0].length,g=[];for(c=0;f>c;++c){for(b=0,d=0;b<w.length;b++)d+=k(w[b].values[c]);if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=0}for(c=0;f>c;++c)g[c]=0;return g}}),u.renderEnd("stackedArea immediate"),a}var b,c,d={top:0,right:0,bottom:0,left:0},e=960,f=500,g=nv.utils.defaultColor(),h=Math.floor(1e5*Math.random()),i=null,j=function(a){return a.x},k=function(a){return a.y},l=function(a,b){return!isNaN(k(a,b))&&null!==k(a,b)},m="stack",n="zero",o="default",p="linear",q=!1,r=nv.models.scatter(),s=250,t=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");r.pointSize(2.2).pointDomain([2.2,2.2]);var u=nv.utils.renderWatch(t,s);return a.dispatch=t,a.scatter=r,r.dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),r.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),r.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),a.interpolate=function(b){return arguments.length?(p=b,a):p},a.duration=function(b){return arguments.length?(s=b,u.reset(s),r.duration(s),a):s},a.dispatch=t,a.scatter=r,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},defined:{get:function(){return l},set:function(a){l=a}},clipEdge:{get:function(){return q},set:function(a){q=a}},offset:{get:function(){return n},set:function(a){n=a}},order:{get:function(){return o},set:function(a){o=a}},interpolate:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return j},set:function(a){j=d3.functor(a)}},y:{get:function(){return k},set:function(a){k=d3.functor(a)}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},color:{get:function(){return g},set:function(a){g=nv.utils.getColor(a)}},style:{get:function(){return m},set:function(b){switch(m=b){case"stack":a.offset("zero"),a.order("default");break;case"stream":a.offset("wiggle"),a.order("inside-out");break;case"stream-center":a.offset("silhouette"),a.order("inside-out");break;case"expand":a.offset("expand"),a.order("default");break;case"stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}}},duration:{get:function(){return s},set:function(a){s=a,u.reset(s),r.duration(s)}}}),nv.utils.inheritOptions(a,r),nv.utils.initOptions(a),a},nv.models.stackedAreaChart=function(){"use strict";function a(j){return G.reset(),G.models(d),q&&G.models(e),r&&G.models(f),j.each(function(j){var y=d3.select(this),G=this;nv.utils.initSVG(y);var L=nv.utils.availableWidth(l,y,k),M=nv.utils.availableHeight(m,y,k);if(a.update=function(){y.transition().duration(D).call(a)},a.container=this,w.setter(J(j),a.update).getter(I(j)).update(),w.disabled=j.map(function(a){return!!a.disabled}),!x){var N;x={};for(N in w)w[N]instanceof Array?x[N]=w[N].slice(0):x[N]=w[N]}if(!(j&&j.length&&j.filter(function(a){return a.values.length}).length))return nv.utils.noData(a,y),a;y.selectAll(".nv-noData").remove(),b=d.xScale(),c=d.yScale();var O=y.selectAll("g.nv-wrap.nv-stackedAreaChart").data([j]),P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Q=O.select("g");if(P.append("rect").style("opacity",0),P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-stackedWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-controlsWrap"),P.append("g").attr("class","nv-interactive"),Q.select("rect").attr("width",L).attr("height",M),p){var R=o?L-A:L;g.width(R),Q.select(".nv-legendWrap").datum(j).call(g),k.top!=g.height()&&(k.top=g.height(),M=nv.utils.availableHeight(m,y,k)),Q.select(".nv-legendWrap").attr("transform","translate("+(L-R)+","+-k.top+")")}if(o){var S=[{key:C.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=d.style(),style:"stack"},{key:C.stream||"Stream",metaKey:"Stream",disabled:"stream"!=d.style(),style:"stream"},{key:C.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=d.style(),style:"expand"},{key:C.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=d.style(),style:"stack_percent"}];A=B.length/3*260,S=S.filter(function(a){return-1!==B.indexOf(a.metaKey)}),h.width(A).color(["#444","#444","#444"]),Q.select(".nv-controlsWrap").datum(S).call(h),k.top!=Math.max(h.height(),g.height())&&(k.top=Math.max(h.height(),g.height()),M=nv.utils.availableHeight(m,y,k)),Q.select(".nv-controlsWrap").attr("transform","translate(0,"+-k.top+")")}O.attr("transform","translate("+k.left+","+k.top+")"),s&&Q.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),t&&(i.width(L).height(M).margin({left:k.left,top:k.top}).svgContainer(y).xScale(b),O.select(".nv-interactive").call(i)),d.width(L).height(M);var T=Q.select(".nv-stackedWrap").datum(j);if(T.transition().call(d),q&&(e.scale(b)._ticks(nv.utils.calcTicksX(L/100,j)).tickSize(-M,0),Q.select(".nv-x.nv-axis").attr("transform","translate(0,"+M+")"),Q.select(".nv-x.nv-axis").transition().duration(0).call(e)),r){var U;if(U="wiggle"===d.offset()?0:nv.utils.calcTicksY(M/36,j),f.scale(c)._ticks(U).tickSize(-L,0),"expand"===d.style()||"stack_percent"===d.style()){var V=f.tickFormat();E&&V===K||(E=V),f.tickFormat(K)}else E&&(f.tickFormat(E),E=null);Q.select(".nv-y.nv-axis").transition().duration(0).call(f)}d.dispatch.on("areaClick.toggle",function(b){1===j.filter(function(a){return!a.disabled}).length?j.forEach(function(a){a.disabled=!1}):j.forEach(function(a,c){a.disabled=c!=b.seriesIndex}),w.disabled=j.map(function(a){return!!a.disabled}),z.stateChange(w),a.update()}),g.dispatch.on("stateChange",function(b){for(var c in b)w[c]=b[c];z.stateChange(w),a.update()}),h.dispatch.on("legendClick",function(b,c){b.disabled&&(S=S.map(function(a){return a.disabled=!0,a}),b.disabled=!1,d.style(b.style),w.style=d.style(),z.stateChange(w),a.update())}),i.dispatch.on("elementMousemove",function(b){d.clearHighlights();var c,e,f,g=[],h=0;if(j.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(i,j){e=nv.interactiveBisect(i.values,b.pointXValue,a.x());var k=i.values[e],l=a.y()(k,e);if(null!=l&&d.highlightPoint(j,e,!0),"undefined"!=typeof k){"undefined"==typeof c&&(c=k),"undefined"==typeof f&&(f=a.xScale()(a.x()(k,e)));var m="expand"==d.style()?k.display.y:a.y()(k,e);g.push({key:i.key,value:m,color:n(i,i.seriesIndex),stackedValue:k.display}),u&&"expand"!=d.style()&&(h+=m)}}),g.reverse(),g.length>2){var k=a.yScale().invert(b.mouseY),l=null;g.forEach(function(a,b){k=Math.abs(k);var c=Math.abs(a.stackedValue.y0),d=Math.abs(a.stackedValue.y);return k>=c&&d+c>=k?void(l=b):void 0}),null!=l&&(g[l].highlight=!0)}u&&"expand"!=d.style()&&g.length>=2&&g.push({key:v,value:h,total:!0});var m=a.x()(c,e),o=i.tooltip.valueFormatter();"expand"===d.style()||"stack_percent"===d.style()?(F||(F=o),o=d3.format(".1%")):F&&(o=F,F=null),i.tooltip.chartContainer(G.parentNode).valueFormatter(o).data({value:m,series:g})(),i.renderGuideLine(f)}),i.dispatch.on("elementMouseout",function(a){d.clearHighlights()}),z.on("changeState",function(b){"undefined"!=typeof b.disabled&&j.length===b.disabled.length&&(j.forEach(function(a,c){a.disabled=b.disabled[c]}),w.disabled=b.disabled),"undefined"!=typeof b.style&&(d.style(b.style),H=b.style),a.update()})}),G.renderEnd("stacked Area chart immediate"),a}var b,c,d=nv.models.stackedArea(),e=nv.models.axis(),f=nv.models.axis(),g=nv.models.legend(),h=nv.models.legend(),i=nv.interactiveGuideline(),j=nv.models.tooltip(),k={top:30,right:25,bottom:50,left:60},l=null,m=null,n=nv.utils.defaultColor(),o=!0,p=!0,q=!0,r=!0,s=!1,t=!1,u=!0,v="TOTAL",w=nv.utils.state(),x=null,y=null,z=d3.dispatch("stateChange","changeState","renderEnd"),A=250,B=["Stacked","Stream","Expanded"],C={},D=250;w.style=d.style(),e.orient("bottom").tickPadding(7),f.orient(s?"right":"left"),j.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return f.tickFormat()(a,b)}),i.tooltip.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return f.tickFormat()(a,b)});var E=null,F=null;h.updateState(!1);var G=nv.utils.renderWatch(z),H=d.style(),I=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:d.style()}}},J=function(a){return function(b){void 0!==b.style&&(H=b.style),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},K=d3.format("%");return d.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=d.x()(a.point),a.point.y=d.y()(a.point),j.data(a).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0)}),a.dispatch=z,a.stacked=d,a.legend=g,a.controls=h,a.xAxis=e,a.yAxis=f,a.interactiveLayer=i,a.tooltip=j,a.dispatch=z,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},showLegend:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return q},set:function(a){q=a}},showYAxis:{get:function(){return r},set:function(a){r=a}},defaultState:{get:function(){return x},set:function(a){x=a}},noData:{get:function(){return y},set:function(a){y=a}},showControls:{get:function(){return o},set:function(a){o=a}},controlLabels:{get:function(){return C},set:function(a){C=a}},controlOptions:{get:function(){return B},set:function(a){B=a}},showTotalInTooltip:{get:function(){return u},set:function(a){u=a}},totalLabel:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return D},set:function(a){D=a,G.reset(D),d.duration(D),e.duration(D),f.duration(D)}},color:{get:function(){return n},set:function(a){n=nv.utils.getColor(a),g.color(n),d.color(n)}},rightAlignYAxis:{get:function(){return s},set:function(a){s=a,f.orient(s?"right":"left")}},useInteractiveGuideline:{get:function(){return t},set:function(b){t=!!b,a.interactive(!b),a.useVoronoi(!b),d.scatter.interactive(!b)}}}),nv.utils.inheritOptions(a,d),nv.utils.initOptions(a),a},nv.models.sunburst=function(){"use strict";function a(u){return t.reset(),u.each(function(t){function u(a){a.x0=a.x,a.dx0=a.dx}function v(a){var b=d3.interpolate(p.domain(),[a.x,a.x+a.dx]),c=d3.interpolate(q.domain(),[a.y,1]),d=d3.interpolate(q.range(),[a.y?20:0,z]);return function(a,e){return e?function(b){return s(a)}:function(e){return p.domain(b(e)),q.domain(c(e)).range(d(e)),s(a)}}}k=d3.select(this);var w,x=nv.utils.availableWidth(f,k,e),y=nv.utils.availableHeight(g,k,e),z=Math.min(x,y)/2;nv.utils.initSVG(k);var A=k.selectAll(".nv-wrap.nv-sunburst").data(t),B=A.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+j),C=B.selectAll("nv-sunburst");a.update=function(){0===n?k.call(a):k.transition().duration(n).call(a)},a.container=this,A.attr("transform","translate("+x/2+","+y/2+")"),k.on("click",function(a,b){o.chartClick({data:a,index:b,pos:d3.event,id:j})}),q.range([0,z]),b=b||t,d=t[0],r.value(i[h]||i.count),w=C.data(r.nodes).enter().append("path").attr("d",s).style("fill",function(a){return a.color?a.color:l(m?(a.children?a:a.parent).name:a.name)}).style("stroke","#FFF").on("click",function(a){c!==b&&b!==a&&(c=b),b=a,w.transition().duration(n).attrTween("d",v(a))}).each(u).on("dblclick",function(a){c.parent==a&&w.transition().duration(n).attrTween("d",v(d))}).each(u).on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("opacity",.8),o.elementMouseover({data:a,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("opacity",1),o.elementMouseout({data:a})}).on("mousemove",function(a,b){o.elementMousemove({data:a})})}),t.renderEnd("sunburst immediate"),a}var b,c,d,e={top:0,right:0,bottom:0,left:0},f=null,g=null,h="count",i={count:function(a){return 1},size:function(a){return a.size}},j=Math.floor(1e4*Math.random()),k=null,l=nv.utils.defaultColor(),m=!0,n=500,o=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),p=d3.scale.linear().range([0,2*Math.PI]),q=d3.scale.sqrt(),r=d3.layout.partition().sort(null).value(function(a){return 1}),s=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,p(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,p(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,q(a.y))}).outerRadius(function(a){return Math.max(0,q(a.y+a.dy))}),t=nv.utils.renderWatch(o);return a.dispatch=o,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},mode:{get:function(){return h},set:function(a){h=a}},id:{get:function(){return j},set:function(a){j=a}},duration:{get:function(){return n},set:function(a){n=a}},groupColorByParent:{get:function(){return m},set:function(a){m=!!a}},margin:{get:function(){return e},set:function(a){e.top=void 0!=a.top?a.top:e.top,e.right=void 0!=a.right?a.right:e.right,e.bottom=void 0!=a.bottom?a.bottom:e.bottom,e.left=void 0!=a.left?a.left:e.left}},color:{get:function(){return l},set:function(a){l=nv.utils.getColor(a)}}}),nv.utils.initOptions(a),a},nv.models.sunburstChart=function(){"use strict";function a(c){return l.reset(),l.models(b),c.each(function(c){var g=d3.select(this);nv.utils.initSVG(g);var h=nv.utils.availableWidth(e,g,d),i=nv.utils.availableHeight(f,g,d);if(a.update=function(){0===j?g.call(a):g.transition().duration(j).call(a)},a.container=this,!c||!c.length)return nv.utils.noData(a,g),a;g.selectAll(".nv-noData").remove();var k=g.selectAll("g.nv-wrap.nv-sunburstChart").data(c),l=k.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),m=k.select("g");l.append("g").attr("class","nv-sunburstWrap"),k.attr("transform","translate("+d.left+","+d.top+")"),b.width(h).height(i);var n=m.select(".nv-sunburstWrap").datum(c);d3.transition(n).call(b)}),l.renderEnd("sunburstChart immediate"),a}var b=nv.models.sunburst(),c=nv.models.tooltip(),d={top:30,right:20,bottom:20,left:20},e=null,f=null,g=nv.utils.defaultColor(),h=(Math.round(1e5*Math.random()),null),i=null,j=250,k=d3.dispatch("stateChange","changeState","renderEnd");c.duration(0);var l=nv.utils.renderWatch(k);return c.headerEnabled(!1).valueFormatter(function(a,b){return a}),b.dispatch.on("elementMouseover.tooltip",function(a){
a.series={key:a.data.name,value:a.data.size,color:a.color},c.data(a).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){c.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(a){c()}),a.dispatch=k,a.sunburst=b,a.tooltip=c,a.options=nv.utils.optionsFunc.bind(a),a._options=Object.create({},{noData:{get:function(){return i},set:function(a){i=a}},defaultState:{get:function(){return h},set:function(a){h=a}},color:{get:function(){return g},set:function(a){g=a,b.color(g)}},duration:{get:function(){return j},set:function(a){j=a,l.reset(j),b.duration(j)}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}}}),nv.utils.inheritOptions(a,b),nv.utils.initOptions(a),a},nv.version="1.8.1-dev"}();
//# sourceMappingURL=nv.d3.min.js.map